Ğ—Ğ´Ñ€Ğ°Ğ²ÑÑ‚Ğ²ÑƒĞ¹!

Ñ Ğ¿Ğ¸ÑˆÑƒ ÑĞµÑ€ÑŒĞµĞ·ĞµĞ·Ğ½ÑƒÑ Ğ¿Ñ€ĞµĞ·ĞµĞ½Ğ°Ñ‚Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· slidev Ğ¿Ğ¾ÑĞ²ÑÑ‰ĞµĞ½Ğ½ÑƒÑ Ğ¼Ğ¾ĞµĞ¹ Ğ±Ğ¸Ğ±Ğ»Ğ¸Ñ‚Ğ¾ĞµĞºĞ¸ dddguard



Ğ²Ğ¾Ñ‚ ĞµĞµ Ñ€Ğ¸Ğ´Ğ¼Ğ¸Ğº

[![PyPI version](https://badge.fury.io/py/dddguard.svg)](https://badge.fury.io/py/dddguard)

[![Python Versions](https://img.shields.io/pypi/pyversions/dddguard.svg)](https://pypi.org/project/dddguard/)

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)



# dddguard



Architecture Guard, Linter, and Scaffolder for Domain-Driven Design projects.



Stop arguing about folder structures and layer boundaries. `dddguard` enforces strict architectural rules, generates compliant boilerplate, and visualizes your project dependency graph.



It is designed to be your interactive architectural companion.



## Quick Start



Install globally using `uv` (requires Python 3.10+):



```bash

uv tool install dddguard

```



Simply run the tool to enter the interactive HUD:



```bash

dddguard

```



The tool will guide you through scanning, linting, or creating new components.



Capabilities



ğŸ›¡ï¸ Lint

Command: dddguard lint



You can explore detailed architectural rules and naming conventions interactively via diagrams using the 'View Rules (Summary)' and 'View Rules (Matrix)' options within the linter's interface.



ğŸ“Š Draw

Command: dddguard draw



The visualizer parses your actual code structure and generates an XML file compatible with Draw.io (diagrams.net). It maps relationships between Contexts and Layers based on real imports. When using `dddguard drawdir` to visualize a specific directory, the generated diagram will include comprehensive information in its legend, providing detailed insights into the visualized architecture.



ğŸ§© Create

Command: dddguard create



Scaffold new Bounded Contexts in seconds. Use the interactive wizard to generate production-ready boilerplate with:

- Correct layers (domain, app, adapters, ports).

- Dependency Injection containers.



ğŸ“¡ Scan

Command: dddguard scan



The core analysis engine. It builds a dependency graph of your entire project, detecting contexts and layers. Use the interactive filters to explore specific parts of your monolith or modular monolith.



The Standard

`dddguard` enforces a highly structured, granular architecture. This approach maximizes separation of concerns and clearly defines the role of every component, from the global entrypoint down to the individual Bounded Context.



```

src/

â”œâ”€â”€ <context_name>/

â”‚   â”œâ”€â”€ domain/           # Pure Business Logic

â”‚   â”‚   â”œâ”€â”€ aggregates/   # - Encapsulates business rules and consistency

â”‚   â”‚   â”œâ”€â”€ entities/     # - Business objects with a distinct identity

â”‚   â”‚   â”œâ”€â”€ vo/           # - Value Objects, immutable and without identity

â”‚   â”‚   â”œâ”€â”€ services/     # - Domain-specific operations, not tied to an entity

â”‚   â”‚   â”œâ”€â”€ events/       # - Represents something that happened in the domain

â”‚   â”‚   â””â”€â”€ errors/       # - Custom domain-specific exceptions

â”‚   â”‚

â”‚   â”œâ”€â”€ app/              # Application Layer: Orchestrates domain logic

â”‚   â”‚   â”œâ”€â”€ use_cases/    # - Implements Commands that change system state

â”‚   â”‚   â”œâ”€â”€ queries/      # - Implements Queries that read system state

â”‚   â”‚   â”œâ”€â”€ workflows/    # - Manages long-running processes (Sagas)

â”‚   â”‚   â”œâ”€â”€ handlers/     # - Reacts to domain or integration events

â”‚   â”‚   â””â”€â”€ interfaces/   # - Defines contracts (ports) for driven adapters

â”‚   â”‚

â”‚   â”œâ”€â”€ adapters/         # Translation layer between the core and the outside world

â”‚   â”‚   â”œâ”€â”€ driving/      # - Adapters that drive the application (e.g., Controllers)

â”‚   â”‚   â””â”€â”€ driven/       # - Adapters driven by the application (e.g., Repositories)

â”‚   â”‚

â”‚   â”œâ”€â”€ dto/              # Data Transfer Objects: Simple, logic-less data carriers

â”‚   â”‚   â”œâ”€â”€ driving/      # - Incoming data structures (Requests)

â”‚   â”‚   â””â”€â”€ driven/       # - Outgoing data structures (Responses, Events)

â”‚   â”‚

â”‚   â”œâ”€â”€ ports/            # Technology-specific infrastructure code

â”‚   â”‚   â”œâ”€â”€ driving/      # - Entry points for incoming signals (web server, CLI app)

â”‚   â”‚   â””â”€â”€ driven/       # - Egress points for outgoing signals (DB client, HTTP client)

â”‚   â”‚

â”‚   â””â”€â”€ composition.py    # - Wires all dependencies for this specific context

â”‚

â”œâ”€â”€ shared/               # Shared code: kernels, libraries, or models used by multiple contexts

â”‚

â””â”€â”€ root/                 # Global application entrypoint and composition root

    â”œâ”€â”€ composition.py    # - Wires all contexts and shared services together

    â”œâ”€â”€ main.py           # - Main application entrypoint (e.g., starts web server)

    â””â”€â”€ cli.py            # - CLI application entrypoint

```



### Anatomy of the Architecture



1.  **`root/`**: The top-level entrypoint for your entire application. Its `composition.py` assembles the different Bounded Contexts and `shared/` components.



2.  **`shared/`**: A place for code that is shared across multiple contexts, such as a shared kernel, common libraries, or cross-cutting concerns like logging. The structure within `shared/` is intentionally flexible.



3.  **`<context_name>/`**: Represents a Bounded Context, a self-contained module with its own internal layers:

    -   **`domain/`**: The heart of the context's business logic. It is completely isolated and pure.

    -   **`app/`**: Orchestrates the domain logic to perform specific tasks, defining the application's capabilities.

    -   **`adapters/`**: Translate between the outside world and the application layer, implementing interfaces defined in `app/` or triggering `app/` logic.

    -   **`dto/`**: Define the data contracts for requests and responses, ensuring clean boundaries.

    -   **`ports/`**: Contain the raw, technology-specific code that connects to infrastructure.

    -   **`composition.py`**: The context's local "glue" that wires together its internal components.



## Technology Stack



The project is built with modern Python tooling and development practices:



- **Typer** + **Rich**  + **InquirerPy**   best smooth CLI experience.

- **Dishka**  lightweight Dependency Injection for clean and decoupled architecture.



---



**Maintained by**: **Sense1Tapo4ek**



Ğ²Ğ¾Ñ‚ Ğ´Ğ¾Ğ¿ Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»Ñ‹ Ğ¿Ğ¾ ÑĞ°Ğ¼Ğ¾Ğ¹ Ğ»Ğ¸Ğ±Ğµ



{

  "linter_cli.md": "# Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ DDDGuard Linter\n\nĞœĞ¾Ğ´ÑƒĞ»ÑŒ Linter â€” ÑÑ‚Ğ¾ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ ÑÑ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ğµ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° ÑÑ‚Ñ€Ğ¾Ğ³Ğ¸Ğ¼ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°Ğ¼ Domain-Driven Design (DDD). ĞĞ½ Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚, Ñ‡Ñ‚Ğ¾ ÑĞ»Ğ¾Ğ¸ (Domain, App, Adapters) Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²ÑƒÑÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ½Ñ‹Ğ¼ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ¼, Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ¾Ñ‚Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½ÑƒÑ ÑÑ€Ğ¾Ğ·Ğ¸Ñ.\n\nĞĞ¸Ğ¶Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ñ‹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹, Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¸ ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ñ‹Ğµ ÑĞºÑ€Ğ°Ğ½Ñ‹.\n\nCOMMAND: lint\n--------------------------------------------------------------------------------\nĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:\nĞ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºÑƒ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹ Ğ´Ğ»Ñ Ğ²ÑĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¸Ğ· config.yaml.\nĞ­Ñ‚Ğ¾ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ÑĞ¿Ğ¾ÑĞ¾Ğ± Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° Ğ¿Ñ€Ğ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ Ğ² CI/CD Ğ¸Ğ»Ğ¸ Ğ¿Ñ€Ğ¸ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞµ Ğ²ÑĞµĞ³Ğ¾ Ğ¼Ğ¾Ğ½Ğ¾Ğ»Ğ¸Ñ‚Ğ°.\n\nĞ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:\n  dddguard lint\n\nĞŸĞ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ:\n1. Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ.\n2. ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ Source Directory.\n3. ĞÑ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ (HUD) Ñ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ğ¼ Ğº Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞµ Ğ¿ÑƒÑ‚ĞµĞ¼.\n\nCOMMAND: lintdir\n--------------------------------------------------------------------------------\nĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:\nĞŸĞ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ²Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½ÑƒÑ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ. ĞŸĞ¾Ğ»ĞµĞ·Ğ½Ğ¾ Ğ´Ğ»Ñ Ñ‚Ğ¾Ñ‡ĞµÑ‡Ğ½Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹ Ğ¸Ğ»Ğ¸ ĞµÑĞ»Ğ¸ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ» Ğ¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚.\n\nĞ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:\n  dddguard lintdir\n\nĞŸĞ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ:\n1. Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ñ„Ğ°Ğ·Ğ·Ğ¸-Ğ¿Ğ¾Ğ¸ÑĞº Ğ´Ğ»Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ¿Ğ°Ğ¿ĞºĞ¸.\n2. ĞŸĞ¾ÑĞ»Ğµ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ Linter HUD.\n\nĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸:\nğŸ” Select directory to lint (In: /home/user/projects/dddguard)\n(Type to filter â€¢ Enter to navigate) \nFilter:  \nâ¯ âœ… SELECT CURRENT: dddguard/\n  ğŸ”™ .. (Go Up)\n  ğŸ“‚ docs\n  ğŸ“‚ src\n  ğŸ“‚ tests\n\n\nĞ˜ĞĞ¢Ğ•Ğ Ğ¤Ğ•Ğ™Ğ¡: Linter HUD (ĞŸĞ°Ğ½ĞµĞ»ÑŒ Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ)\n--------------------------------------------------------------------------------\nĞ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ Ğ»Ğ¸Ğ½Ñ‚ĞµÑ€Ğ° Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ¾Ğ·Ğ½Ğ°ĞºĞ¾Ğ¼Ğ¸Ñ‚ÑŒÑÑ Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°Ğ¼Ğ¸ Ğ¿ĞµÑ€ĞµĞ´ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ¾Ğ¼ Ğ¸Ğ»Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸.\n\nĞ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ°:\n\nâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  ARCHITECTURE GUARD  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®\nâ”‚                                                                                â”‚\nâ”‚                       Linting Target: dddguard/src/dddguard                    â”‚\nâ”‚                                                                                â”‚\nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Arrows to Navigate â€¢ Enter to Select â”€â•¯\n (Use arrow keys, Ctrl+C to cancel) \n   REFERENCE \n     ğŸ“– View Rules (Summary)\n     ğŸ”¢ View Rules (Matrix)\n   ---------------\nâ¯ >>> RUN VALIDATION <<<\n     Exit / Cancel\n\nĞœĞµĞ½Ñ REFERENCE (Ğ¡Ğ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ):\n\n1. ğŸ“– View Rules (Summary)\n   ĞÑ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ ÑĞºÑ€Ğ°Ğ½ Ñ ĞºÑ€Ğ°Ñ‚ĞºĞ¸Ğ¼ Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¼ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµĞ¼ ÑĞ»Ğ¾ĞµĞ². ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹: ĞºĞ°ĞºĞ¾Ğ¹ ÑĞ»Ğ¾Ğ¹ Ğ·Ğ° Ñ‡Ñ‚Ğ¾ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚.\n\n  Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ (Summary):\n\nâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ§± LAYER ISOLATION RULES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®\nâ”‚                                                                                â”‚\nâ”‚   Layer                          Rules & Restrictions                          â”‚\nâ”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚\nâ”‚   ğŸ”µ DOMAIN                      â€¢ Must be PURE.                               â”‚\nâ”‚                                  â€¢ Can ONLY import SHARED KERNEL and itself.   â”‚\nâ”‚   ğŸŸ£ APP                         â€¢ Imports DOMAIN & SHARED.                    â”‚\nâ”‚                                  â€¢ â›” NO DTOs (Pure Domain Language).          â”‚\nâ”‚                                  â€¢ â›” NO INFRASTRUCTURE (Adapters/Ports).      â”‚\nâ”‚   ğŸ”Œ ADAPTERS                    ğŸŸ¢ DRIVING (Controllers):                     â”‚\nâ”‚                                    â€¢ Calls APP UseCases.                       â”‚\nâ”‚                                    â€¢ â›” NO PORTS (No DB/Config).               â”‚\nâ”‚                                                                                â”‚\nâ”‚                                  ğŸŸ  DRIVEN (Repositories/ACL):                 â”‚\nâ”‚                                    â€¢ Implements APP Interfaces.                â”‚\nâ”‚                                    â€¢ âœ… USES DRIVEN PORTS (DB Sessions).       â”‚\nâ”‚                                    â€¢ âœ… CROSS-CONTEXT (Calls other contexts).  â”‚\nâ”‚   ğŸ“„ DTOs                        â€¢ Dumb Data Contracts.                        â”‚\nâ”‚                                  â€¢ â›” NO LOGIC DEPS (No App/Adapters).         â”‚\nâ”‚   âš™ï¸ PORTS                       ğŸŸ¢ DRIVING (Frameworks): Imports Adapters.    â”‚\nâ”‚                                  ğŸŸ  DRIVEN (Drivers): Low-level tools.         â”‚\nâ”‚                                                                                â”‚\nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯\n\n1. ğŸ”¢ View Rules (Matrix)\n   ĞÑ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½ÑƒÑ Ğ¼Ğ°Ñ‚Ñ€Ğ¸Ñ†Ñƒ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° (Access Matrix). Ğ­Ñ‚Ğ¾ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° \"Ğ²ÑĞµ ÑĞ¾ Ğ²ÑĞµĞ¼Ğ¸\", Ğ³Ğ´Ğµ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ¾, ĞºĞ°ĞºĞ¸Ğµ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ñ‹ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ñ‹ (Green), Ğ° ĞºĞ°ĞºĞ¸Ğµ Ğ·Ğ°Ğ¿Ñ€ĞµÑ‰ĞµĞ½Ñ‹ (Red) Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ÑĞ»Ğ¾Ñ.\n\n   ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑĞºÑ€Ğ°Ğ½Ğ° Ğ¼Ğ°Ñ‚Ñ€Ğ¸Ñ†Ñ‹:\n   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“\n   â”‚ Architectural Rules & Constraints                                           â”‚\n   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Domain-Driven Design Guidelines â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                          ğŸ›‘ Internal Layer Boundaries (Intra-Context)           \n   â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®\n   â”‚ Source Layer     â”‚ Can Import (Allowed)        â”‚ Cannot Import (Forbidden)  â”‚\n   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n   â”‚ DOMAIN           â”‚ domain                      â”‚ driving_adapters, app...   â”‚\n   â”‚ APP              â”‚ app, domain                 â”‚ driving_ports, driven...   â”‚\n   â”‚ DRIVING_ADAPTERS â”‚ app, domain, driving_dto    â”‚ driven_ports, driven...    â”‚\n   â”‚ DRIVEN_ADAPTERS  â”‚ domain, app, driven_ports   â”‚ driving_ports, driving...  â”‚\n   â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯\n   \n   ğŸŒ Cross-Context Policies\n   â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ”“ Public Layers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®  â•­â”€â”€â”€â”€â”€â”€â”€ ğŸ“¡ Outbound Initiators â”€â”€â”€â”€â”€â”€â”€â•®\n   â”‚ â€¢ driving_adapters                  â”‚  â”‚ â€¢ driven_adapters                    â”‚\n   â”‚ â€¢ driving_dto                       â”‚  â”‚                                      â”‚\n   â•°â”€â”€ (Accessible from other Contexts) â”€â•¯  â•°â”€â”€â”€â”€ (Can call other Contexts) â”€â”€â”€â”€â”€â”€â”€â•¯\n\nĞœĞµĞ½Ñ ACTIONS (Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ):\n\n1. >>> RUN VALIDATION <<<\n   Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑÑÑ‚ÑÑ Ğ²ÑĞµ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ñ‹ Ğ² Python-Ñ„Ğ°Ğ¹Ğ»Ğ°Ñ… ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ½Ğ¾Ğ¹ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ Ğ½Ğ° ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°Ğ¼ Ğ¼Ğ°Ñ‚Ñ€Ğ¸Ñ†Ñ‹.\n\n2. Exit / Cancel\n   Ğ’Ñ‹Ñ…Ğ¾Ğ´ Ğ¸Ğ· Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹.\n\nĞĞ¢Ğ§Ğ•Ğ¢ Ğ ĞĞĞ Ğ£Ğ¨Ğ•ĞĞ˜Ğ¯Ğ¥ (Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚)\n--------------------------------------------------------------------------------\nĞŸĞ¾ÑĞ»Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ»Ğ¸Ğ½Ñ‚ĞµÑ€ Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ñ‚ Ğ¾Ñ‚Ñ‡ĞµÑ‚.\n\nĞ•ÑĞ»Ğ¸ Ğ½Ğ°Ñ€ÑƒÑˆĞµĞ½Ğ¸Ğ¹ Ğ½ĞµÑ‚:\nĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚ÑÑ Ğ·ĞµĞ»ĞµĞ½Ğ°Ñ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ \"âœ… No violations found. Architecture is Clean!\".\n\nĞ•ÑĞ»Ğ¸ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ñ‹ Ğ½Ğ°Ñ€ÑƒÑˆĞµĞ½Ğ¸Ñ:\nĞ’Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ñ‚ÑÑ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ñ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸ĞµĞ¹ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº: Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ¾ (Rule ID), ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ¸ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ğµ Ğ¼ĞµÑÑ‚Ğ¾ Ğ½Ğ°Ñ€ÑƒÑˆĞµĞ½Ğ¸Ñ (ĞºĞ°ĞºĞ¾Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ» Ğ·Ğ°Ğ¿Ñ€ĞµÑ‰ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ).\n\nĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¾Ñ‚Ñ‡ĞµÑ‚Ğ° Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°Ğ¼Ğ¸:\n\n\nâ•­â”€ âŒ Architectural Violations Found â”€â•®\nâ”‚       Files Scanned:  79            â”‚\nâ”‚          Violations:  5             â”‚\nâ”‚              Status:  FAILED        â”‚\nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯\n\n                                                                                                                                                  \n  Rule        Context            Violation Details                                                                                                \n â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ \n  R100        scaffolder         Layer violation: 'driving_ports' cannot import 'app'                                                             \n                                 Loc: scaffolder.ports.driving.cli â†’ scaffolder.app.use_cases.init_project_use_case                               \n  R100        scaffolder         Layer violation: 'driving_ports' cannot import 'app'                                                             \n                                 Loc: scaffolder.ports.driving.cli â†’ scaffolder.app.use_cases.create_config_use_case                              \n  R100        scaffolder         Layer violation: 'driving_ports' cannot import 'app'                                                             \n                                 Loc: scaffolder.ports.driving.cli â†’ scaffolder.app.use_cases.create_component_use_case                           \n  R100        scaffolder         Layer violation: 'driving_ports' cannot import 'app'                                                             \n                                 Loc: scaffolder.ports.driving.cli â†’ scaffolder.app.use_cases.list_templates_use_case                             \n  R100        scaffolder         Layer violation: 'driving_ports' cannot import 'app'                                                             \n                                 Loc: scaffolder.ports.driving.cli â†’ scaffolder.app.errors                                                        \n                                                                                                \nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯",

  "scanner_cli.md": "# Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ DDDGuard Scanner\n\nĞœĞ¾Ğ´ÑƒĞ»ÑŒ Scanner â€” ÑÑ‚Ğ¾ ÑĞ´Ñ€Ğ¾ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ DDDGuard. ĞĞ½ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ·Ğ° Ğ¾Ğ±Ğ½Ğ°Ñ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ñ… ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² (Bounded Contexts, Layers, Components) Ğ¸ Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ Ğ³Ñ€Ğ°Ñ„Ğ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°.\n\nScanner Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ² Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¼ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ Ñ‡ĞµÑ€ĞµĞ· Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ (HUD), Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑÑ Ğ³Ğ¸Ğ±ĞºĞ¾ Ğ½Ğ°ÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°Ñ‚ÑŒ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚ÑŒ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° Ğ¿ĞµÑ€ĞµĞ´ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸ĞµĞ¼ Ñ€ĞµÑÑƒÑ€ÑĞ¾ĞµĞ¼ĞºĞ¸Ñ… Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹.\n\nCOMMAND: scan\n--------------------------------------------------------------------------------\nĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:\nĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹. ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ° `config.yaml`.\nĞ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ´Ğ»Ñ Ñ€ĞµĞ³ÑƒĞ»ÑÑ€Ğ½Ğ¾Ğ³Ğ¾ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹ Ğ²ÑĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°.\n\nĞ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:\n  dddguard scan\n\nĞŸĞ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ:\n1. Ğ˜Ñ‰ĞµÑ‚ `config.yaml` Ğ² Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¹ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ Ğ¸Ğ»Ğ¸ Ğ²Ñ‹ÑˆĞµ.\n2. Ğ¡Ñ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ ĞºĞ¾Ñ€Ğ½ĞµĞ²ÑƒÑ Ğ¿Ğ°Ğ¿ĞºÑƒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Ğ¸ Ğ¿Ğ°Ğ¿ĞºÑƒ Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ´Ğ° (`src`).\n3. ĞÑ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ HUD Ñ ÑƒĞ¶Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ñ‹Ğ¼ Ğ¿ÑƒÑ‚ĞµĞ¼ (Target).\n\nCOMMAND: scandir\n--------------------------------------------------------------------------------\nĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:\nĞ ĞµĞ¶Ğ¸Ğ¼ Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ³Ğ¾ ÑĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ. ĞŸĞ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ»ÑĞ±ÑƒÑ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ»ÑŒĞ½ÑƒÑ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ, Ğ´Ğ°Ğ¶Ğµ ĞµÑĞ»Ğ¸ Ğ¾Ğ½Ğ° Ğ½Ğµ ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ñ‡Ğ°ÑÑ‚ÑŒÑ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ DDD-Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°.\n\nĞ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:\n  dddguard scandir\n\nĞŸĞ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ:\n1. Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ²Ñ‹Ğ±Ğ¾Ñ€ Ğ¿ÑƒÑ‚Ğ¸ (Fuzzy Finder).\n2. ĞŸĞ¾ÑĞ»Ğµ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ¿Ğ°Ğ¿ĞºĞ¸ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ HUD.\n\nĞ˜ĞĞ¢Ğ•Ğ Ğ¤Ğ•Ğ™Ğ¡: Scanner HUD (ĞŸĞ°Ğ½ĞµĞ»ÑŒ Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ)\n--------------------------------------------------------------------------------\nĞ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑ€Ğ°Ğ½ ÑĞºĞ°Ğ½ĞµÑ€Ğ° Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½ Ğ½Ğ° Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½ÑƒÑ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ğ¸ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ.\n\nĞ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ°:\n\nâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Scanner Configuration â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®\nâ”‚                                                                                â”‚\nâ”‚                      Target: Project Source (src/dddguard)                     â”‚\nâ”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚\nâ”‚          Mode:  Python Only                              Layers:  ALL          â”‚\nâ”‚          Type:  Full Tree                              Contexts:  ALL          â”‚\nâ”‚       Verbose:  OFF                                       Scope:  Root, Shared â”‚\nâ”‚                                                                                â”‚\nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Arrows to navigate â€¢ Enter to toggle â”€â•¯\n (Use arrow keys, Ctrl+C to cancel) \n   FLAGS \n  Verbose Mode         [OFF]\n  Directories Only     [OFF]\n  Scan All Files       [OFF]\n   SCOPE \n  Include Root         [ON]\n  Include Shared       [ON]\n   FILTERS \n  Filter Layers        [ALL]\n  Filter Contexts      [ALL]\n   ---------------\n      Check Configuration\n   ---------------\nâ¯ >>> EXECUTE SCAN <<<\n      Exit / Cancel\n\nĞĞŸĞ˜Ğ¡ĞĞĞ˜Ğ• ĞĞĞ¡Ğ¢Ğ ĞĞ•Ğš (ĞœĞµĞ½Ñ)\n--------------------------------------------------------------------------------\n\n[Ğ¡ĞµĞºÑ†Ğ¸Ñ FLAGS]\nĞ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ ÑĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ.\n\n* Verbose Mode [OFF/ON]\n  Ğ’ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ Ğ²Ñ‹Ğ²Ğ¾Ğ´ Ğ¾Ñ‚Ğ»Ğ°Ğ´Ğ¾Ñ‡Ğ½Ğ¾Ğ¹ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ğ² ĞºĞ¾Ğ½ÑĞ¾Ğ»ÑŒ Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ ÑĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ.\n\n* Directories Only [OFF/ON]\n  Ğ£ÑĞºĞ¾Ñ€ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼. Ğ¡ĞºĞ°Ğ½ĞµÑ€ Ğ¸Ğ³Ğ½Ğ¾Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ¸ ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´ĞµÑ€ĞµĞ²Ğ¾ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¹. ĞŸĞ¾Ğ»ĞµĞ·Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ¿Ğ°Ğ¿Ğ¾Ğº Ğ±ĞµĞ· Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° ĞºĞ¾Ğ´Ğ°.\n\n* Scan All Files [OFF/ON]\n  - [OFF]: (Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ) ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒÑÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ `.py` Ñ„Ğ°Ğ¹Ğ»Ñ‹. Ğ¡Ñ‚Ñ€Ğ¾Ğ¸Ñ‚ÑÑ AST-Ğ³Ñ€Ğ°Ñ„ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ².\n  - [ON]: Ğ’ĞºĞ»ÑÑ‡Ğ°ÑÑ‚ÑÑ Ğ²ÑĞµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ (txt, md, yml, dockerfile). ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ² Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ½ĞµÑ‚Ğ¾Ñ‡Ğ½Ñ‹Ğ¼ Ğ¸Ğ»Ğ¸ Ğ¾Ñ‚ĞºĞ»ÑÑ‡ĞµĞ½ Ğ´Ğ»Ñ Ğ½Ğµ-Python Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ².\n\n[Ğ¡ĞµĞºÑ†Ğ¸Ñ SCOPE]\nĞ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒÑ Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ·Ğ¾Ğ½ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹.\n\n* Include Root [OFF/ON]\n  Ğ’ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ Ğ² Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· Composition Root (Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ² ĞºĞ¾Ñ€Ğ½Ğµ source, main.py, di-ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹). Ğ•ÑĞ»Ğ¸ Ğ²Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾, ÑĞºĞ°Ğ½Ğ¸Ñ€ÑƒÑÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ°Ğ¿ĞºĞ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ².\n\n* Include Shared [OFF/ON]\n  Ğ’ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ Shared Kernel (Ğ¾Ğ±Ñ‰Ğ¸Ğ¹ ĞºĞ¾Ğ´). ĞÑ‚ĞºĞ»ÑÑ‡Ğ¸Ñ‚Ğµ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ ÑƒĞ²Ğ¸Ğ´ĞµÑ‚ÑŒ ÑĞ²ÑĞ·Ğ¸ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°Ğ¼Ğ¸.\n\n[Ğ¡ĞµĞºÑ†Ğ¸Ñ FILTERS]\nĞ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¾Ğ±Ğ»Ğ°ÑÑ‚Ğ¸ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°.\n\n1. Filter Layers\n   ĞŸĞ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ²Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ğ¸ Ğ´Ğ»Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Domain Ğ¸ App).\n   \n   ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑĞºÑ€Ğ°Ğ½Ğ° Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° ÑĞ»Ğ¾ĞµĞ²:\n   â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®\n   â”‚ Select Architectural Layers                                                 â”‚\n   â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Space to Toggle â€¢ Enter to Confirm â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯\n    \n   â¯ [x] Domain\n     [x] App\n     [x] Driving Adapters\n     [x] Driven Adapters\n     [x] Driving Dto\n     [ ] Driven Dto   <-- Ğ˜ÑĞºĞ»ÑÑ‡ĞµĞ½ Ğ¸Ğ· Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°\n     [x] Driving Ports\n     [x] Driven Ports\n     [x] Composition\n\n2. Filter Contexts\n   ĞŸĞ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ²Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ¾Ğ´Ğ¸Ğ½ Ğ¸Ğ»Ğ¸ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Bounded Contexts. ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ½ĞµÑ‡ĞµÑ‚ĞºĞ¸Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº.\n   \n   ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑĞºÑ€Ğ°Ğ½Ğ° Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²:\n   â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®\n   â”‚ Filter Bounded Contexts                                                     â”‚\n   â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Type to search â€¢ Tab to Select â€¢ Enter to Confirm â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯\n   ğŸ”  (Use arrow keys, Ctrl+C to cancel) \n   Filter:  s\n   â¯ shared      <-- Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ¿Ğ¾ \"s\"\n     scanner\n     scaffolder\n     visualizer\n\n[Ğ¡ĞµĞºÑ†Ğ¸Ñ ACTIONS]\n\n* Check Configuration\n  ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ ÑĞ²Ğ¾Ğ´ĞºÑƒ Ğ¾ Ñ‚Ğ¾Ğ¼, ĞºĞ°Ğº DDDGuard Ğ²Ğ¸Ğ´Ğ¸Ñ‚ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°. ĞŸĞ¾Ğ»ĞµĞ·Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ¸ Ğ¿ÑƒÑ‚ĞµĞ¹.\n\n  ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ°:\n  â•­â”€â”€â”€â”€â”€â”€â”€ Current Configuration â”€â”€â”€â”€â”€â”€â”€â•®\n  â”‚                                     â”‚\n  â”‚   ğŸ“ Project Root:  dddguard        â”‚\n  â”‚    ğŸ“‚ Source Code:  ./src/dddguard  â”‚\n  â”‚          ğŸ§ª Tests:  ./tests         â”‚\n  â”‚            ğŸ“š Docs:  ./docs          â”‚\n  â”‚                                     â”‚\n  â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯\n\n* >>> EXECUTE SCAN <<<\n  Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ. Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ¼ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ñ„Ğ°Ğ¹Ğ» `project_tree.json`, ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‰Ğ¸Ğ¹ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ³Ñ€Ğ°Ñ„ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑĞ¼Ğ¸ Linter Ğ¸ Visualizer.\n\nâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ âœ… Scan Completed Successfully â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®\nâ”‚                                                                    â”‚\nâ”‚     Contexts Found: 6                                              â”‚\nâ”‚    Files Processed: 80                                             â”‚\nâ”‚                                                                    â”‚\nâ”‚        Output File: project_tree.json                              â”‚\nâ”‚                                                                    â”‚\nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯\n",

  "drawer_cli.md": "# Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ DDDGuard Visualizer\n\nĞœĞ¾Ğ´ÑƒĞ»ÑŒ Visualizer â€” ÑÑ‚Ğ¾ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ñ Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°. ĞĞ½ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ğ³Ñ€Ğ°Ñ„ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹, ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ¡ĞºĞ°Ğ½ĞµÑ€Ğ¾Ğ¼, Ğ¸ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ ÑĞ²ÑĞ·Ğ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°Ğ¼Ğ¸ Ğ¸ ÑĞ»Ğ¾ÑĞ¼Ğ¸ Ğ² Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğµ Draw.io (XML).\n\nCOMMAND: draw\n--------------------------------------------------------------------------------\nĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:\nĞ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½ÑƒÑ ĞºĞ°Ñ€Ñ‚Ñƒ Ğ²ÑĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ `config.yaml`.\n\nĞ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:\n  dddguard draw\n\nĞŸĞ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ:\n1. Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°.\n2. ĞÑ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ (HUD) Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸.\n\nĞ˜ĞĞ¢Ğ•Ğ Ğ¤Ğ•Ğ™Ğ¡: Visualizer HUD\n--------------------------------------------------------------------------------\n\nĞ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ°:\n\nâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  ARCHITECTURE MAPPER  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®\nâ”‚                                                                              â”‚\nâ”‚                  Visualization Target: dddguard/src/dddguard                 â”‚\nâ”‚                                                                              â”‚\nâ”‚                               Format:  Draw.io XML                           â”‚\nâ”‚                               Engine:  NetworkX + Rich                       â”‚\nâ”‚                          Output File:  architecture.drawio                   â”‚\nâ”‚                                                                              â”‚\nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Arrows to Navigate â€¢ Enter to Select â”€â•¯\n (Use arrow keys, Ctrl+C to cancel) \n   SETTINGS \n     ğŸ’¾ Output File (architecture.drawio)\n   ---------------\nâ¯ >>> GENERATE DIAGRAM <<<\n     Exit / Cancel\n\nĞœĞµĞ½Ñ SETTINGS:\n\n* ğŸ’¾ Output File\n  ĞŸĞ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¸Ğ¼Ñ Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ğ°. ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ: `architecture.drawio`.\n\nĞœĞµĞ½Ñ ACTIONS:\n\n* >>> GENERATE DIAGRAM <<<\n  Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸.\n  \n  Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:\n  âœ… Diagram saved: architecture.drawio\n  â„¹ï¸  Open in https://app.diagrams.net/\n\nCOMMAND: drawdir\n--------------------------------------------------------------------------------\nĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:\nĞ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñƒ Ğ´Ğ»Ñ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ¹ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ğ¾Ğ¹ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸. ĞŸĞ¾Ğ»ĞµĞ·Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ ÑĞ²ÑĞ·ĞµĞ¹ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ Ğ¸Ğ»Ğ¸ ĞµÑĞ»Ğ¸ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ Ğ¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚.\n\nĞ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:\n  dddguard drawdir\n\nĞŸĞ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ:\n1. Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ğ²Ñ‹Ğ±Ğ¾Ñ€ Ğ¿Ğ°Ğ¿ĞºĞ¸.\n   ğŸ” Select directory to visualize (In: /projects/dddguard)\n   â¯ âœ… SELECT CURRENT: dddguard/\n     ğŸ“‚ src\n     ğŸ“‚ tests\n2. ĞÑ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ HUD Ñ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ğ¾Ğ¹ Ñ†ĞµĞ»ÑŒÑ.",

  "scaffolder_cli.md": "# Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ DDDGuard Scaffolder\n\nĞœĞ¾Ğ´ÑƒĞ»ÑŒ Scaffolder â€” ÑÑ‚Ğ¾ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ ĞºĞ¾Ğ´Ğ°, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ĞµÑ‚ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ (Bounded Contexts, Shared Utilities) Ğ² ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ğ¸ Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°Ğ¼Ğ¸ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹ DDD. ĞĞ½ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ´Ğ° (boilerplate), Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€ÑƒÑ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½ÑƒÑ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ¿Ğ°Ğ¿Ğ¾Ğº Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ².\n\nĞĞ¸Ğ¶Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ñ‹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ¸ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ.\n\nCOMMAND: create\n--------------------------------------------------------------------------------\nĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:\nĞ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ¼Ğ°ÑÑ‚ĞµÑ€ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ².\nĞ•ÑĞ»Ğ¸ Ğ² Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ ĞµÑÑ‚ÑŒ `config.yaml`, Ğ¼Ğ°ÑÑ‚ĞµÑ€ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ ĞºĞ¾Ñ€Ğ½ĞµĞ²ÑƒÑ Ğ¿Ğ°Ğ¿ĞºÑƒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°. Ğ•ÑĞ»Ğ¸ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ° Ğ½ĞµÑ‚, Ğ¿Ñ€ĞµĞ´Ğ»Ğ°Ğ³Ğ°ĞµÑ‚ÑÑ ĞµĞ³Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¸Ğ»Ğ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ Ğ² Ad-Hoc Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ.\n\nĞ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:\n  dddguard create\n\nĞŸĞ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ:\n1. Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ¾Ğ² Ğ¸Ğ· Ñ€ĞµĞµÑÑ‚Ñ€Ğ°.\n2. ĞÑ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ (HUD).\n3. ĞŸĞ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ²Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ğ¸ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½.\n4. Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ² Ğ¿Ğ°Ğ¿ĞºÑƒ `templates/` Ğ² ĞºĞ¾Ñ€Ğ½Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° (Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ñ‹Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼).\n\nĞ˜ĞĞ¢Ğ•Ğ Ğ¤Ğ•Ğ™Ğ¡: Scaffolder HUD (ĞŸĞ°Ğ½ĞµĞ»ÑŒ Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ)\n--------------------------------------------------------------------------------\nĞ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑ€Ğ°Ğ½ ÑĞºĞ°Ñ„Ñ„Ğ¾Ğ»Ğ´ĞµÑ€Ğ°.\n\nĞ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ°:\n\nâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  COMPONENT SCAFFOLDER  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®\nâ”‚                                                                              â”‚\nâ”‚                               Project: dddguard                              â”‚\nâ”‚                               Config:  âœ… Loaded                             â”‚\nâ”‚                                                                              â”‚\nâ”‚                     Root:  /home/user/projects/dddguard                      â”‚\nâ”‚               Target Dir:  ./templates                                       â”‚\nâ”‚                                                                              â”‚\nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Generates boilerplate code into /templates â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯\n (Use arrow keys, Ctrl+C to cancel) \n   ACTIONS \nâ¯    ğŸ“š Browse Template Registry\n     ğŸ§© Generate New Component\n   ---------------\n     Exit\n\nĞœĞµĞ½Ñ ACTIONS (Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ):\n\n1. ğŸ“š Browse Template Registry\n   ĞÑ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ€ĞµĞ¶Ğ¸Ğ¼ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ°. ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ´ĞµÑ€ĞµĞ²Ğ¾ Ğ²ÑĞµÑ… Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ¾Ğ² Ñ Ğ¸Ñ… Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµĞ¼, ÑĞ³Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ğ¾ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼. ĞĞ¸ĞºĞ°ĞºĞ¸Ñ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ½Ğµ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ÑÑ.\n\n   ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑĞºÑ€Ğ°Ğ½Ğ° Ñ€ĞµĞµÑÑ‚Ñ€Ğ°:\n   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“\n   â”‚ Template Registry                                                         â”‚\n   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n   ğŸ“¦ Available Components\n   â”œâ”€â”€ ğŸ“‚ Bounded Context Blueprints\n   â”‚   â”œâ”€â”€ ctx_business_logic - Rich Domain Model: Aggregates, Services...\n   â”‚   â””â”€â”€ ctx_simple_base - Base Context with Pydantic settings...\n   â””â”€â”€ ğŸ“‚ Shared Utilities & Infrastructure\n       â”œâ”€â”€ utils_generators - Mock data generators (Faker).\n       â””â”€â”€ utils_loguru - Loguru Setup for Shared Kernel.\n\n2. ğŸ§© Generate New Component\n   Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ğ¿Ğ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ¸ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ°.\n\n   Ğ¨Ğ°Ğ³ 1: Ğ’Ñ‹Ğ±Ğ¾Ñ€ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸\n   Select Category (Use arrow keys, Ctrl+C to cancel) \n   â¯ ğŸ“‚ ctx_base (Bounded Context Blueprints)\n     ğŸ“‚ utils (Shared Utilities & Infrastructure)\n     ---------------\n     ğŸ”™ .. (Back)\n\n   Ğ¨Ğ°Ğ³ 2: Ğ’Ñ‹Ğ±Ğ¾Ñ€ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ°\n   Select ctx_base Template (Use arrow keys, Ctrl+C to cancel) \n   â¯ ğŸ“„ ctx_business_logic - Rich Domain Model...\n     ğŸ“„ ctx_simple_base - Base Context...\n     ---------------\n     ğŸ”™ .. (Back)\n\n   Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:\n   ĞŸĞ¾ÑĞ»Ğµ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ°, Scaffolder ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ ĞµĞ³Ğ¾ ĞºĞ¾Ğ¿Ğ¸Ñ Ğ² Ğ¿Ğ°Ğ¿ĞºĞµ `./templates/<template_name>`.\n   Ğ’Ñ‹ ÑƒĞ²Ğ¸Ğ´Ğ¸Ñ‚Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¾Ğ± ÑƒÑĞ¿ĞµÑ…Ğµ:\n   \nâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ§© Component Constructed â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®\nâ”‚                                                           â”‚\nâ”‚  Template:  ctx_business_logic                            â”‚\nâ”‚  Location:  /home/e.mesheryakou/other/dddguard/templates  â”‚\nâ”‚                                                           â”‚\nâ”‚    Status:  Generated Successfully                        â”‚\nâ”‚                                                           â”‚\nâ”‚  ğŸ“‚ templates                                             â”‚\nâ”‚  â”œâ”€â”€ ğŸ“‚ src                                               â”‚\nâ”‚  â”‚   â”œâ”€â”€ ğŸ“‚ delivery_context                              â”‚\nâ”‚  â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ app                                       â”‚\nâ”‚  â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ handlers                              â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py                       â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ on_order_created_handler.py       â”‚\nâ”‚  â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ interfaces                            â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py                       â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ i_logistics_repository.py         â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ i_notification_gateway.py         â”‚\nâ”‚  â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ queries                               â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py                       â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ get_delivery_status_query.py      â”‚\nâ”‚  â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ use_cases                             â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py                       â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ add_order_item_use_case.py        â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ assemble_order_use_case.py        â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ create_order_use_case.py          â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ match_orders_use_case.py          â”‚\nâ”‚  â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ workflows                             â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py                       â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ fulfillment_workflow.py           â”‚\nâ”‚  â”‚   â”‚   â”‚   â””â”€â”€ ... (and more)                           â”‚\nâ”‚  â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ domain                                    â”‚\nâ”‚  â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ aggregates                            â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ delivery_aggregate.py             â”‚\nâ”‚  â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ entities                              â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py                       â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ courier_entity.py                 â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ order_ent.py                      â”‚\nâ”‚  â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ errors                                â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ logistics_errors.py               â”‚\nâ”‚  â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ events                                â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ delivery_events.py                â”‚\nâ”‚  â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ services                              â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ assignment_policy.py              â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ order_matching_service.py         â”‚\nâ”‚  â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ pricing_service.py                â”‚\nâ”‚  â”‚   â”‚   â”‚   â””â”€â”€ ... (and more)                           â”‚\nâ”‚  â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py                               â”‚\nâ”‚  â”‚   â”‚   â”œâ”€â”€ ğŸ“„ composition.py                            â”‚\nâ”‚  â”‚   â”‚   â”œâ”€â”€ ğŸ“„ config.py                                 â”‚\nâ”‚  â”‚   â”‚   â””â”€â”€ ... (and more)                               â”‚\nâ”‚  â”‚   â”œâ”€â”€ ğŸ“‚ root                                          â”‚\nâ”‚  â”‚   â”‚   â”œâ”€â”€ ğŸ“„ composition.py                            â”‚\nâ”‚  â”‚   â”‚   â”œâ”€â”€ ğŸ“„ config.py                                 â”‚\nâ”‚  â”‚   â”‚   â””â”€â”€ ğŸ“„ logger.py                                 â”‚\nâ”‚  â”‚   â””â”€â”€ ğŸ“‚ shared                                        â”‚\nâ”‚  â”‚       â”œâ”€â”€ ğŸ“‚ utils                                     â”‚\nâ”‚  â”‚       â”‚   â””â”€â”€ ğŸ“„ logging_setup.py                      â”‚\nâ”‚  â”‚       â””â”€â”€ ğŸ“„ __init__.py                               â”‚\nâ”‚  â”œâ”€â”€ ğŸ“‚ tests                                             â”‚\nâ”‚  â”‚   â””â”€â”€ ğŸ“‚ delivery_context                              â”‚\nâ”‚  â”‚       â””â”€â”€ ğŸ“‚ unit                                      â”‚\nâ”‚  â”‚           â”œâ”€â”€ ğŸ“‚ app                                   â”‚\nâ”‚  â”‚           â”‚   â”œâ”€â”€ ğŸ“„ conftest.py                       â”‚\nâ”‚  â”‚           â”‚   â”œâ”€â”€ ğŸ“„ test_fulfillment_workflow.py      â”‚\nâ”‚  â”‚           â”‚   â”œâ”€â”€ ğŸ“„ test_match_orders_use_case.py     â”‚\nâ”‚  â”‚           â”‚   â””â”€â”€ ğŸ“„ test_order_use_cases.py           â”‚\nâ”‚  â”‚           â””â”€â”€ ğŸ“‚ domain                                â”‚\nâ”‚  â”‚               â”œâ”€â”€ ğŸ“„ conftest.py                       â”‚\nâ”‚  â”‚               â”œâ”€â”€ ğŸ“„ test_delivery_aggregate.py        â”‚\nâ”‚  â”‚               â”œâ”€â”€ ğŸ“„ test_matching_service.py          â”‚\nâ”‚  â”‚               â””â”€â”€ ğŸ“„ test_order_entity.py              â”‚\nâ”‚  â””â”€â”€ ğŸ“„ requirements.txt                                  â”‚\nâ”‚                                                           â”‚\nâ”‚          ğŸ‘‰ Move these files to src/ when ready.          â”‚\nâ”‚                                                           â”‚\nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯\n\n1. âš™ï¸ Initialize Configuration (Ğ•ÑĞ»Ğ¸ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ Ğ¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚)\n   Ğ•ÑĞ»Ğ¸ `config.yaml` Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½, Ğ²Ğ¼ĞµÑÑ‚Ğ¾ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ² Ğ±ÑƒĞ´ĞµÑ‚ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ±Ğ°Ğ·Ğ¾Ğ²ÑƒÑ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°. Ğ­Ñ‚Ğ¾ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ¿ĞµÑ€ĞµĞ´ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ¾Ğ¼ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹.\n\nCOMMAND: init\n--------------------------------------------------------------------------------\nĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:\nĞ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¿ÑƒÑÑ‚ÑƒÑ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ DDD-Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Ğ² Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¹ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸. Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ Ğ¿Ğ°Ğ¿ĞºĞ¸ (`src`, `tests`, `docs`) Ğ¸ Ñ„Ğ°Ğ¹Ğ» ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸.\n\nĞ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:\n  dddguard init\n\n  # Ğ¡ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ¸ĞµĞ¼ Ğ¸Ğ¼ĞµĞ½Ğ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°\n  dddguard init --name \"MyPaymentService\"\n\nCOMMAND: config\n--------------------------------------------------------------------------------\nĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:\nĞ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ„Ğ°Ğ¹Ğ» `config.yaml` Ñ Ğ´ĞµÑ„Ğ¾Ğ»Ñ‚Ğ½Ñ‹Ğ¼Ğ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°Ğ¼Ğ¸. ĞŸĞ¾Ğ»ĞµĞ·Ğ½Ğ¾, ĞµÑĞ»Ğ¸ Ğ²Ñ‹ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ DDDGuard Ğ² ÑƒĞ¶Ğµ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚.\n\nĞ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:\n  dddguard config"

}



Ğ¸ Ğ²Ğ¾Ñ‚ 

Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ğµ Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»Ñ‹

# 01-2_MyProjects - dddguard - guidelines - context_content-summary



# ğŸ—ºï¸ Index: context_content



â¬…ï¸ **Up:** [[../../../2_MyProjects/dddguard/guidelines/01-2_MyProjects - dddguard - guidelines-summary|ğŸ“‚ ..]]



---

## ğŸ“„ Notes

- [[adapters]]

- [[app]]

- [[context_composition]]

- [[domain]]

- [[dto]]

- [[ports]]



# 01-2_MyProjects - dddguard - guidelines-summary



# ğŸ—ºï¸ Index: guidelines



â¬…ï¸ **Up:** [[01-2_MyProjects - dddguard-summary|ğŸ“‚ ..]]



---

## ğŸ“‚ Subdirectories

- [[context_content/01-2_MyProjects - dddguard - guidelines - context_content-summary|ğŸ“ context_content]]



## ğŸ“„ Notes

- [[architecture]]

- [[composition]]

- [[dddguard_architecture]]

- [[shared_kernel]]



# adapters



# ĞĞ½Ğ°Ñ‚Ğ¾Ğ¼Ğ¸Ñ: [[adapters|adapters]] (Ğ¡Ğ²ÑĞ·ÑŒ Ñ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¼ Ğ¼Ğ¸Ñ€Ğ¾Ğ¼)



ĞĞ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹ â€” ÑÑ‚Ğ¾ ÑĞ»Ğ¾Ğ¹-Ğ¿Ğ¾ÑÑ€ĞµĞ´Ğ½Ğ¸Ğº, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑĞ²ÑĞ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºÑƒ ([[app]] Ğ¸ [[domain]]) Ñ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¼ Ğ¼Ğ¸Ñ€Ğ¾Ğ¼. ĞĞ½Ğ¸ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·ÑƒÑÑ‚ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ñ‹ Ğ² Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚, Ğ¿Ğ¾Ğ½ÑÑ‚Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ, Ğ¸ Ğ½Ğ°Ğ¾Ğ±Ğ¾Ñ€Ğ¾Ñ‚.



ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ ÑÑ‚Ğ¾Ğ³Ğ¾ ÑĞ»Ğ¾Ñ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾ Ñ€Ğ°ÑĞ¿Ğ¾Ğ»Ğ°Ğ³Ğ°ÑÑ‚ÑÑ Ğ² Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ `adapters/driven/` (Ğ´Ğ»Ñ Ğ¸ÑÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ñ…) Ğ¸Ğ»Ğ¸ `adapters/driving/` (Ğ´Ğ»Ñ Ğ²Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ñ…) Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ [[01-2_MyProjects - dddguard - guidelines - context_content-summary|ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°]].



### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹



```

billing/

â””â”€â”€ adapters/

    â”œâ”€â”€ driven/             # Ğ˜ÑÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹ (ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ "Ğ´Ğ²Ğ¸Ğ¶ĞµÑ‚" Ğ¸Ğ¼Ğ¸)

    â”‚   â”œâ”€â”€ repositories/

    â”‚   â”‚   â””â”€â”€ sql_invoice_repository.py

    â”‚   â”œâ”€â”€ gateways/

    â”‚   â”‚   â””â”€â”€ stripe_payment_gateway.py

    â”‚   â””â”€â”€ publishers/

    â”‚       â””â”€â”€ rabbitmq_event_publisher.py

    â””â”€â”€ driving/            # Ğ’Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹ (ĞĞ½Ğ¸ "Ğ´Ğ²Ğ¸Ğ¶ÑƒÑ‚" Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸ĞµĞ¼)

        â”œâ”€â”€ controllers/

        â”‚   â””â”€â”€ invoice_http_controller.py

        â””â”€â”€ consumers/

            â””â”€â”€ payment_succeeded_consumer.py

```



---



## 1. Driven Adapters (Ğ˜ÑÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹)



Ğ­Ñ‚Ğ¸ Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·ÑƒÑÑ‚ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹ ([[app#5-interface|Ğ¿Ğ¾Ñ€Ñ‚Ñ‹]]), Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ğµ Ğ² ÑĞ»Ğ¾Ğµ [[app|app]]. ĞĞ½Ğ¸ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑÑÑ‚ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ğº Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¼ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°Ğ¼.

### 1.1. Repository



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼Ğ° Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ Ğ¸ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ [[domain#3-aggregate-root|Aggregate Root]] Ğ¸Ğ· Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ¾Ğ³Ğ¾ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğ°. ĞĞ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ¸Ğ»Ğ»ÑĞ·Ğ¸Ñ ĞºĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸Ğ¸ Ğ² Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸.

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `repositories`, `repository`, `repos` Ğ¸Ğ»Ğ¸ `repo`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*repo(sitory)?$`, `.*provider$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ:** Ğ’ÑĞµĞ³Ğ´Ğ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ¸Ğ»Ğ¸ Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ğµ [[domain#2-entity|Entities]]/`Aggregate Roots` Ğ¸ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ Ğ¼Ğ°Ğ¿Ğ¿Ğ¸Ğ½Ğ³ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ½Ğ¸Ğ¼Ğ¸ Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¾Ğ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğ°. ĞĞµ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ `commit`.



### 1.2. Transaction Manager



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°Ğ¼Ğ¸ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¹ (Ñ„Ğ¸ĞºÑĞ°Ñ†Ğ¸Ñ/Ğ¾Ñ‚ĞºĞ°Ñ‚). Ğ ĞµĞ°Ğ»Ğ¸Ğ·ÑƒĞµÑ‚ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ, Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑÑÑ‰Ğ¸Ğ¹ ÑĞ»Ğ¾Ñ `app` ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ°Ñ‚Ğ¾Ğ¼Ğ°Ñ€Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹.

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `transactions`, `transaction`, `uow`, `unit_of_work`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*uow$`, `.*unitofwork$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ:** ĞĞµ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²ÑƒĞµÑ‚ Ñ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ°Ğ¼Ğ¸ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ. Ğ•Ğ³Ğ¾ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° â€” Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ†ĞµĞ»Ğ¾ÑÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹, ÑĞ´ĞµĞ»Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ² Ñ€Ğ°Ğ¼ĞºĞ°Ñ… Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ.



### 1.3. Gateway



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** Ğ˜Ğ½ĞºĞ°Ğ¿ÑÑƒĞ»Ğ¸Ñ€ÑƒĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğº ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğ½Ğ¸Ğ¼ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¼ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°Ğ¼ (e.g., Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ½Ñ‹Ğµ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹, Ğ¾Ğ±Ğ»Ğ°Ñ‡Ğ½Ñ‹Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğ°, ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğ½Ğ¸Ğµ API). ĞŸÑ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·ÑƒĞµÑ‚ Ğ½Ğ°ÑˆĞ¸ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ğµ/[[dto|DTO]] Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹ Ğ² Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ²Ğ½ĞµÑˆĞ½ĞµĞ³Ğ¾ API.

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `gateways`, `gateway`, `clients`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*gateway$`, `.*client$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ:** Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ñ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¼Ğ¸ API, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ½Ğµ ÑĞ²Ğ»ÑÑÑ‚ÑÑ Ñ‡Ğ°ÑÑ‚ÑŒÑ Ğ½Ğ°ÑˆĞµĞ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹.



### 1.4. ACL Facade



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ğ° Anti-Corruption Layer (ACL). Ğ—Ğ°Ñ‰Ğ¸Ñ‰Ğ°ĞµÑ‚ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ğ¹ ÑĞ»Ğ¾Ğ¹ Ğ¾Ñ‚ Ğ·Ğ°Ğ³Ñ€ÑĞ·Ğ½ĞµĞ½Ğ¸Ñ Ğ¼Ğ¾Ğ´ĞµĞ»ÑĞ¼Ğ¸ Ğ¸Ğ»Ğ¸ ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸ÑĞ¼Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ³Ğ¾ [[01-2_MyProjects - dddguard - guidelines - context_content-summary|Bounded Context]]. ĞŸÑ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğº Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¼Ñƒ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ñƒ.

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `facades` Ğ¸Ğ»Ğ¸ `acl`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*facade$`, `.*acl$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ:** Ğ¡Ğ»ÑƒĞ¶Ğ¸Ñ‚ "Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‡Ğ¸ĞºĞ¾Ğ¼" Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ´Ğ²ÑƒĞ¼Ñ Bounded Contexts, ÑĞ³Ğ»Ğ°Ğ¶Ğ¸Ğ²Ğ°Ñ Ğ¸Ñ… Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ¸Ñ.



### 1.5. Publisher



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚, Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ·Ğ° Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ñ… Ğ¸Ğ»Ğ¸ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ñ… ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ Ğ²Ğ¾ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ Ğ¼Ğ¸Ñ€ (e.g., Ñ‡ĞµÑ€ĞµĞ· message broker). ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿ "fire-and-forget".

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `publishers`, `publisher`, `pub`, `producers` Ğ¸Ğ»Ğ¸ `broadcasters`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*publisher$`, `.*producer$`, `.*broadcaster$`, `.*sender$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ:** Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ, Ğ½Ğµ Ğ¾Ğ¶Ğ¸Ğ´Ğ°ĞµÑ‚ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°.



---



## 2. Driving Adapters (Ğ’Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹)



Ğ­Ñ‚Ğ¸ Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹ Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ÑÑ‚ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ¸Ğ· Ğ²Ğ½ĞµÑˆĞ½ĞµĞ³Ğ¾ Ğ¼Ğ¸Ñ€Ğ° Ğ¸ Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ¸Ñ€ÑƒÑÑ‚ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ [[app#1-use-case|Use Cases]] Ğ¸Ğ»Ğ¸ [[app#2-query|Queries]] Ğ² Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¸.



### 2.1. Controller



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** ĞĞ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ²Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ (e.g., HTTP, RPC). ĞÑ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ·Ğ° Ğ´ĞµÑĞµÑ€Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°, Ğ²Ñ‹Ğ·Ğ¾Ğ² ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ³Ğ¾ `Use Case`/`Query` Ğ¸ ÑĞµÑ€Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°.

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `controllers`, `controller`, `views`, `view`, `endpoints`, `routers`, `router` Ğ¸Ğ»Ğ¸ `api`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*controller$`, `.*view$`, `.*router$`, `.*endpoint$`, `.*api$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ:** Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚, Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²ÑƒÑ Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ¼.



### 2.2. Consumer



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** ĞĞ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ²Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ñ‹Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ (e.g., Ğ¸Ğ· Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹). ĞÑ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ·Ğ° Ğ´ĞµÑĞµÑ€Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ, Ğ²Ñ‹Ğ·Ğ¾Ğ² ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ³Ğ¾ `Use Case`/`Query`/`Handler` Ğ¸ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¶Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ñ‹Ğ¼ Ñ†Ğ¸ĞºĞ»Ğ¾Ğ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ (ack/nack).

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `consumers`, `consumer`, `listeners`, `listener`, `subscribers` Ğ¸Ğ»Ğ¸ `subscriber`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*consumer$`, `.*subscriber$`, `.*listener$`, `.*handler$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ:** ĞÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ, Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ¸Ñ€ÑƒÑ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹ Ğ² Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¸ Ğ±ĞµĞ· Ğ¿Ñ€ÑĞ¼Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ĞµĞ»Ñ.



---



### ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ: Adapter vs Port

-   **[[ports|Port]] (`ports/driven/db/sqlalchemy_session.py`):** Ğ­Ñ‚Ğ¾ `SQLAlchemy Session`. ĞĞ½Ğ° ÑƒĞ¼ĞµĞµÑ‚ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ `add()`, `commit()`, `execute("SELECT...")`. Ğ­Ñ‚Ğ¾ **Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚**.

-   **[[adapters|Adapter]] (`adapters/driven/repositories/sql_invoice_repository.py`):** Ğ­Ñ‚Ğ¾ `InvoiceRepository`. ĞĞ½ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ **ĞŸĞ¾Ñ€Ñ‚** (`SQLAlchemy Session`), Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ `Invoice` (Ğ”Ğ¾Ğ¼ĞµĞ½) Ğ² Ğ±Ğ°Ğ·Ñƒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…. Ğ­Ñ‚Ğ¾ **Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ°**.



---



# app



# ĞĞ½Ğ°Ñ‚Ğ¾Ğ¼Ğ¸Ñ: [[app|app]] (ĞÑ€ĞºĞµÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ)



Ğ¡Ğ»Ğ¾Ğ¹ `app` â€” ÑÑ‚Ğ¾ Ğ¿ÑƒĞ»ÑŒÑ‚ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ, ĞºĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ¸Ñ€ÑƒÑÑ‰Ğ¸Ğ¹ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸. ĞĞ½ Ğ½Ğµ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ» (Ğ¾Ğ½Ğ¸ Ğ² [[domain]]) Ğ¸ Ğ°Ğ±ÑÑ‚Ñ€Ğ°Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ¾Ñ‚ Ğ´ĞµÑ‚Ğ°Ğ»ĞµĞ¹ Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ ([[adapters]]).



ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ ÑÑ‚Ğ¾Ğ³Ğ¾ ÑĞ»Ğ¾Ñ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾ Ñ€Ğ°ÑĞ¿Ğ¾Ğ»Ğ°Ğ³Ğ°ÑÑ‚ÑÑ Ğ² Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ `app/` Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ [[2_MyProjects/dddguard/guidelines/context_content/context_composition|ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ĞšĞ¾Ğ½Ñ‚ĞµĞºÑ‚Ğ°]] (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, `billing/app/` Ğ¸Ğ»Ğ¸ `shipping/app/`).



### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹



```

billing/

â””â”€â”€ app/

    â”œâ”€â”€ use_cases/

    â”‚   â””â”€â”€ create_invoice_use_case.py

    â”œâ”€â”€ queries/

    â”‚   â””â”€â”€ get_invoice_details_query.py

    â”œâ”€â”€ handlers/

    â”‚   â””â”€â”€ on_invoice_finalized_handler.py

    â””â”€â”€ interfaces/

        â””â”€â”€ i_invoice_repository.py

```



---



### 1. Use Case



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** Ğ ĞµĞ°Ğ»Ğ¸Ğ·ÑƒĞµÑ‚ Ğ°Ñ‚Ğ¾Ğ¼Ğ°Ñ€Ğ½Ñ‹Ğ¹ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹, Ğ¸Ğ·Ğ¼ĞµĞ½ÑÑÑ‰Ğ¸Ğ¹ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ ([[#1-use-case|Command]]). ĞÑ€ĞºĞµÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ Ğ¼ĞµĞ¶Ğ´Ñƒ [[domain|Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ğ¼ ÑĞ»Ğ¾ĞµĞ¼]] Ğ¸ [[adapters|Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€Ğ°Ğ¼Ğ¸]].

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `use_cases`, `usecase`, `ucs`, `commands`, `interactors` Ğ¸Ğ»Ğ¸ `actions`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*use_?case$`, `.*command$`, `.*action$`, `.*interactor$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¾Ñ‚ [[#2-query|Query]]**: Ğ˜Ğ·Ğ¼ĞµĞ½ÑĞµÑ‚ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ Ğ¸ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾ ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğ¼.



### 2. Query



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** Ğ ĞµĞ°Ğ»Ğ¸Ğ·ÑƒĞµÑ‚ Ğ°Ñ‚Ğ¾Ğ¼Ğ°Ñ€Ğ½Ñ‹Ğ¹ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… ([[#2-query|Read]]). ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ´Ğ»Ñ Ñ‡Ñ‚ĞµĞ½Ğ¸Ñ, Ğ½Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ÑĞµÑ‚ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹.

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `queries`, `query`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*query$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¾Ñ‚ [[#1-use-case|Use Case]]**: Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ñ‡Ñ‚ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…, Ğ½Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ÑĞµÑ‚ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹.



### 3. Workflow



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** ĞÑ€ĞºĞµÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ´Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ, Ğ¼Ğ½Ğ¾Ğ³Ğ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹ (ÑĞ°Ğ³Ğ¸), ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ¾Ñ…Ğ²Ğ°Ñ‚Ñ‹Ğ²Ğ°Ñ‚ÑŒ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ [[#1-use-case|Use Case]] Ğ¸Ğ»Ğ¸ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¼Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°Ğ¼Ğ¸. Ğ ĞµĞ°Ğ»Ğ¸Ğ·ÑƒĞµÑ‚ Ğ»Ğ¾Ğ³Ğ¸ĞºÑƒ ĞºĞ¾Ğ¼Ğ¿ĞµĞ½ÑĞ°Ñ†Ğ¸Ğ¹.

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `workflows`, `workflow`, `sagas` Ğ¸Ğ»Ğ¸ `saga`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*workflow$`, `.*saga$`, `.*process$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¾Ñ‚ `Use Case`:** ĞÑ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ·Ğ° ĞºĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ… ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ², Ñ‡Ğ°ÑÑ‚Ğ¾ Ñ ÑƒÑ‡Ğ°ÑÑ‚Ğ¸ĞµĞ¼ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ñ… ÑĞ¸ÑÑ‚ĞµĞ¼ Ğ¸ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¾Ğ¹ Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾ÑĞ»Ğµ ÑĞ±Ğ¾ĞµĞ².



### 4. Handler



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚, Ñ€ĞµĞ°Ğ³Ğ¸Ñ€ÑƒÑÑ‰Ğ¸Ğ¹ Ğ½Ğ° Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¸Ğ»Ğ¸ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ. Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ Ğ½Ğµ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¼, Ğ° Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€Ğ°Ğ¼Ğ¸-Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ¸Ñ‚ĞµĞ»ÑĞ¼Ğ¸ ([[adapters#2.2.-consumer-consumer|Consumers]]).

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `handlers` Ğ¸Ğ»Ğ¸ `handler`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*handler$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¾Ñ‚ `Use Case`:** Ğ’Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾ Ğ² Ğ¾Ñ‚Ğ²ĞµÑ‚ Ğ½Ğ° ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ, Ğ° Ğ½Ğµ Ğ¿Ñ€ÑĞ¼Ğ¾Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ.



### 5. Interface



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚ (Ğ¿Ğ¾Ñ€Ñ‚) Ğ´Ğ»Ñ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ±ÑƒĞ´ÑƒÑ‚ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ğ² ÑĞ»Ğ¾Ğµ [[adapters|adapters]]. ĞĞ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ¸Ğ½Ğ²ĞµÑ€ÑĞ¸Ñ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹.

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `protocols`, `interfaces`, `interface`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `^i[A-Z].*` (Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ĞµÑ‚ÑÑ Ñ 'i' Ğ¸ Ğ·Ğ°Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ¹ Ğ±ÑƒĞºĞ²Ñ‹), `.*interface$`, `.*port$`, `.*protocol$`.

**ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¾Ñ‚ [[adapters|Implementations]]**: Ğ¯Ğ²Ğ»ÑĞµÑ‚ÑÑ Ğ°Ğ±ÑÑ‚Ñ€Ğ°ĞºÑ†Ğ¸ĞµĞ¹, Ğ½Ğµ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸.



---



# architecture



# ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° DDD-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ



ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ, Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ğ¾Ğµ Ğ½Ğ° Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ğ°Ñ… [[architecture|Domain-Driven Design (DDD)]] Ğ¸ Ñ‡Ğ¸ÑÑ‚Ğ¾Ğ¹ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹, ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾ ÑĞ¾ÑÑ‚Ğ¾Ğ¸Ñ‚ Ğ¸Ğ· Ñ‚Ñ€ĞµÑ… Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ñ… Ğ¼Ğ°ĞºÑ€Ğ¾-ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²:



1.  **[[composition|Composition Root (Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ²ÑĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ)]]**

    -   Ğ•Ğ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ ÑĞ»Ğ¾Ğ¹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ "Ğ·Ğ½Ğ°ĞµÑ‚" Ğ¾Ğ±Ğ¾ Ğ²ÑĞµÑ… Ñ‡Ğ°ÑÑ‚ÑÑ… ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹. ĞĞ½ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ·Ğ° ÑĞ±Ğ¾Ñ€ĞºÑƒ Ğ²ÑĞµÑ… Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ.



2.  **[[context_content/01-2_MyProjects - dddguard - guidelines - context_content-summary|Bounded Contexts (Ğ¡Ğ²ÑĞ·Ğ½Ñ‹Ğµ ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ñ‹)]]**

    -   Ğ˜Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸, Ñ€ĞµĞ°Ğ»Ğ¸Ğ·ÑƒÑÑ‰Ğ¸Ğµ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½ÑƒÑ Ñ‡Ğ°ÑÑ‚ÑŒ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, `billing`, `shipping`). ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ¸Ğ¼ĞµĞµÑ‚ ÑĞ²Ğ¾Ñ ÑĞ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½ÑƒÑ Ğ²Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½ÑÑ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñƒ ([[context_content/domain|domain]], [[context_content/app|app]], [[context_content/adapters|adapters]]).



3.  **[[shared_kernel|Shared Kernel (ĞĞ±Ñ‰ĞµĞµ Ğ¯Ğ´Ñ€Ğ¾)]]**

    -   Ğ¡Ğ¿ĞµÑ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚, ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‰Ğ¸Ğ¹ Ğ¾Ğ±Ñ‰Ğ¸Ğ¹ ĞºĞ¾Ğ´ ([[context_content/domain#1-value-object-valueobject|Value Objects]], [[context_content/dto|DTO]], Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹), ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ¿ĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½ Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°Ğ¼Ğ¸.



---

#note/guide #topic/ddd #topic/architecture



# composition



# ĞĞ½Ğ°Ñ‚Ğ¾Ğ¼Ğ¸Ñ: Composition Root (Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ²ÑĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ)



**Composition Root** â€” ÑÑ‚Ğ¾ ĞµĞ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ ÑĞ»Ğ¾Ğ¹ Ğ½Ğ° ÑƒÑ€Ğ¾Ğ²Ğ½Ğµ Ğ²ÑĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¾ ÑÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸ Ğ²ÑĞµÑ… ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ñ‹Ñ… [[context_content/01-2_MyProjects - dddguard - guidelines - context_content-summary|ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²]], ĞĞ±Ñ‰ĞµĞ³Ğ¾ Ğ¯Ğ´Ñ€Ğ° ([[shared_kernel|Shared Kernel]]) Ğ¸ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ñ… Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¹. Ğ•Ğ³Ğ¾ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° â€” ÑĞ¾Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ²ÑĞµ Ñ‡Ğ°ÑÑ‚Ğ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ğ² ĞµĞ´Ğ¸Ğ½Ñ‹Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‰Ğ¸Ğ¹ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼ Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°.



Ğ­Ñ‚Ğ¾Ñ‚ ÑĞ»Ğ¾Ğ¹ Ğ½Ğµ ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ñ‡Ğ°ÑÑ‚ÑŒÑ ĞºĞ°ĞºĞ¾Ğ³Ğ¾-Ğ»Ğ¸Ğ±Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°, Ğ° ÑÑ‚Ğ¾Ğ¸Ñ‚ Ğ½Ğ°Ğ´ Ğ½Ğ¸Ğ¼Ğ¸, Ğ¾Ñ€ĞºĞµÑÑ‚Ñ€Ğ¸Ñ€ÑƒÑ Ğ¸Ñ… ÑĞ±Ğ¾Ñ€ĞºÑƒ Ğ¸ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ.



### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹



```

src/

â”œâ”€â”€ billing/                # ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ 1

â”œâ”€â”€ shipping/               # ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ 2

â”œâ”€â”€ shared_kernel/          # ĞĞ±Ñ‰ĞµĞµ Ğ¯Ğ´Ñ€Ğ¾

â””â”€â”€ root/                   # <-- Composition Root

    â”œâ”€â”€ root.py             # Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞ±Ğ¾Ñ€Ñ‰Ğ¸Ğº

    â”œâ”€â”€ main.py             # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ´Ğ»Ñ Ğ²ĞµĞ±-ÑĞµÑ€Ğ²Ğ¸ÑĞ° (FastAPI/Flask)

    â””â”€â”€ cli.py              # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ´Ğ»Ñ ĞºĞ¾Ğ½ÑĞ¾Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

```



---



### 1. Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞ±Ğ¾Ñ€Ñ‰Ğ¸Ğº (`root.py`)



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¸ Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹ Ğ¸Ğ»Ğ¸ Ñ„Ğ°Ğ±Ñ€Ğ¸ĞºĞ¸ Ğ¸Ğ· ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Bounded [[context_content/01-2_MyProjects - dddguard - guidelines - context_content-summary|Context]] Ğ¸ Ğ¸Ğ· `shared_kernel`. ĞĞ½ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ "ÑĞºĞ»ĞµĞ¹ĞºÑƒ" Ğ¼ĞµĞ¶ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ, Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ²Ğ°Ñ Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ñ„Ğ°ÑĞ°Ğ´Ñ‹ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ° Ğ² Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹.

-   **Ğ›Ğ¾Ğ³Ğ¸ĞºĞ°:**

    1.  Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ.

    2.  Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ `shared_kernel`.

    3.  Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°, Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ²Ğ°Ñ ĞµĞ¼Ñƒ [[shared_kernel|shared_kernel]] Ğ¸, Ğ¿Ñ€Ğ¸ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸, Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ñ‹.

    4.  Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ ÑĞ¾Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğ¹ "ÑÑƒĞ¿ĞµÑ€-ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€" Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ:** Ğ­Ñ‚Ğ¾ "Ğ´Ğ¸Ñ€Ğ¸Ğ¶ĞµÑ€", ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¾Ğ±Ğ¾ Ğ²ÑĞµÑ… "Ğ¼ÑƒĞ·Ñ‹ĞºĞ°Ğ½Ñ‚Ğ°Ñ…" (ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°Ñ…) Ğ¸ Ñ€Ğ°Ğ·Ğ´Ğ°ĞµÑ‚ Ğ¸Ğ¼ "Ğ¿Ğ°Ñ€Ñ‚Ğ¸Ñ‚ÑƒÑ€Ñ‹" (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸).



### 2. Ğ¢Ğ¾Ñ‡ĞºĞ¸ Ğ²Ñ…Ğ¾Ğ´Ğ° (`main.py`, `cli.py`, `app.py`)



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** ĞšĞ¾Ğ½ĞµÑ‡Ğ½Ñ‹Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½ÑĞµĞ¼Ñ‹Ğµ ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ÑÑ‚ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ. ĞĞ½Ğ¸ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒÑÑ‚ Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞ±Ğ¾Ñ€Ñ‰Ğ¸Ğº (`root.py`), Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ÑÑ‚ ĞµĞ³Ğ¾ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ÑÑ‚ ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğ¹ [[context_content/ports#1-driving-ports-Ğ²Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ-Ğ¿Ğ¾Ñ€Ñ‚Ñ‹|Driving Port]].

-   **Ğ¢Ğ¸Ğ¿Ñ‹:**

    -   `main.py`/`app.py`: Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ğ²ĞµĞ±-ÑĞµÑ€Ğ²ĞµÑ€ (Uvicorn, Gunicorn), Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ²Ğ°Ñ ĞµĞ¼Ñƒ ÑĞ¾Ğ±Ñ€Ğ°Ğ½Ğ½Ğ¾Ğµ Ğ²ĞµĞ±-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ.

    -   `cli.py`: Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ğ¿Ğ°Ñ€ÑĞµÑ€ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ½Ğ¾Ğ¹ ÑÑ‚Ñ€Ğ¾ĞºĞ¸ (Typer, Click), Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ²Ğ°Ñ ĞµĞ¼Ñƒ ÑĞ¾Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğµ CLI-ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ:** ĞĞµ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸ ÑĞ±Ğ¾Ñ€ĞºĞ¸. Ğ˜Ñ… ĞµĞ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ°Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° â€” Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑĞ±Ğ¾Ñ€ĞºÑƒ Ñ‡ĞµÑ€ĞµĞ· `root.py` Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ.



---

#note/guide #topic/ddd #topic/architecture



# context_composition



# ĞĞ½Ğ°Ñ‚Ğ¾Ğ¼Ğ¸Ñ: [[context_composition|Composition]] (ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ¡Ğ±Ğ¾Ñ€ĞºĞ¸ ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°)



ĞœĞ¾Ğ´ÑƒĞ»ÑŒ `composition.py`, Ñ€Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ½Ğ° Ğ²ĞµÑ€Ñ…Ğ½ĞµĞ¼ ÑƒÑ€Ğ¾Ğ²Ğ½Ğµ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ [[01-2_MyProjects - dddguard - guidelines - context_content-summary|ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°]] (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, `billing/composition.py`), ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸ĞµĞ¹ Ğ¿Ğ¾ ÑĞ±Ğ¾Ñ€ĞºĞµ Ğ¸ Ñ‚Ğ¾Ñ‡ĞºĞ¾Ğ¹ Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ² ÑÑ‚Ğ¾Ñ‚ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚. Ğ­Ñ‚Ğ¾ ĞµĞ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğµ Ğ¼ĞµÑÑ‚Ğ¾ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ¼Ñƒ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¾ Ğ·Ğ½Ğ°Ñ‚ÑŒ Ğ¾Ğ±Ğ¾ Ğ²ÑĞµÑ… ĞµĞ³Ğ¾ ÑĞ»Ğ¾ÑÑ… [[domain]], [[app]], [[adapters]] ÑÑ€Ğ°Ğ·Ñƒ.



**Ğ—Ğ¾Ğ»Ğ¾Ñ‚Ğ¾Ğµ ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ¾:** ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ "Ñ‡ĞµÑ€Ğ½Ñ‹Ğ¼ ÑÑ‰Ğ¸ĞºĞ¾Ğ¼". Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ½Ğµ Ğ·Ğ½Ğ°ĞµÑ‚, ĞºĞ°Ğº ÑƒÑÑ‚Ñ€Ğ¾ĞµĞ½ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸, Ğ¾Ğ½Ğ¾ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ ÑÑ‚Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°.



### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ (Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°)

```

billing/

â”œâ”€â”€ app/

â”œâ”€â”€ domain/

â”œâ”€â”€ adapters/

â”œâ”€â”€ ports/

â”œâ”€â”€ dtos/

â”œâ”€â”€ logger.py

â””â”€â”€ composition.py   # <--- ĞœĞ¾Ğ´ÑƒĞ»ÑŒ ÑĞ±Ğ¾Ñ€ĞºĞ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°

```



---



### 1. Wiring (ĞœĞ¾Ğ½Ñ‚Ğ°Ğ¶ / Ğ¡Ğ±Ğ¾Ñ€ĞºĞ°)



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** ĞŸÑ€Ğ¾Ñ†ĞµÑÑ ÑĞ²ÑĞ·Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ² ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ° Ñ‡ĞµÑ€ĞµĞ· [[3_Knowledge/Libraries/Backend/Dishka|Dependency Injection (DI)]]. Ğ­Ñ‚Ğ¾Ñ‚ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ (`composition.py`) ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, `wire_billing_context()`), ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ ĞºĞ»Ğ°ÑÑÑ‹ Ğ¸ Ğ²Ğ½ĞµĞ´Ñ€ÑĞµÑ‚ Ğ¸Ñ… Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ ([[adapters#1-driven-adapters-Ğ¸ÑÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ-Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹|Driven Adapters]], [[app#1-use-case|App UseCases]], [[adapters#2-driving-adapters-Ğ²Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ-Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹|Driving Adapters]]).

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ:** Ğ­Ñ‚Ğ¾ "ĞºĞ»ĞµĞ¹", ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑĞ²ÑĞ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ°Ğ±ÑÑ‚Ñ€Ğ°ĞºÑ†Ğ¸Ğ¸ (`app`) Ñ Ğ¸Ñ… ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¼Ğ¸ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸ÑĞ¼Ğ¸ (`adapters`) *Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ´Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°*. Ğ­Ñ‚Ğ¾ ĞµĞ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¾Ğ±Ğ¾ Ğ²ÑĞµÑ… ÑĞ»Ğ¾ÑÑ… *ÑÑ‚Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°*.



### 2. Container (Ğ¤Ğ°ÑĞ°Ğ´ ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°)



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** ĞĞ±ÑŠĞµĞºÑ‚-Ñ„Ğ°ÑĞ°Ğ´ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, ĞºĞ»Ğ°ÑÑ `BillingContainer`), ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¸Ğ½ĞºĞ°Ğ¿ÑÑƒĞ»Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ¸ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ÑÑ Ñ„ÑƒĞ½ĞºÑ†Ğ¸ĞµĞ¹ ÑĞ±Ğ¾Ñ€ĞºĞ¸ Ğ¸Ğ· `composition.py`. ĞĞ½ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ²Ğ½ĞµÑˆĞ½ĞµĞ¼Ñƒ Ğ¼Ğ¸Ñ€Ñƒ (Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°Ğ¼ Ğ¸Ğ»Ğ¸ Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ¼Ñƒ [[../composition|Composition Root]]) Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ğ¾Ğ¼Ñƒ API Ğ¸ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ° Ğ±ĞµĞ· Ñ€Ğ°ÑĞºÑ€Ñ‹Ñ‚Ğ¸Ñ ĞµĞ³Ğ¾ Ğ²Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½ĞµĞ¹ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸.

-   **Ğ¡Ğ¾ÑÑ‚Ğ°Ğ²:** ĞœĞµÑ‚Ğ¾Ğ´Ñ‹ `start()`, `stop()` Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¶Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ñ‹Ğ¼ Ñ†Ğ¸ĞºĞ»Ğ¾Ğ¼, Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¼ Entrypoints (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, `FastAPI Router`) Ğ¸Ğ»Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼ Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¼ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°Ğ¼.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ:** ĞŸÑ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ĞµĞ´Ğ¸Ğ½ÑƒÑ Ñ‚Ğ¾Ñ‡ĞºÑƒ Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¶Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ñ‹Ğ¼ Ñ†Ğ¸ĞºĞ»Ğ¾Ğ¼ Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ¾Ğ¼ Ğº Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¼ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°Ğ¼ *Ğ´Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°*.



---

#note/guide #topic/ddd #topic/architecture



# context_content-summary



# Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ Ğ Ğ°Ğ·Ğ´ĞµĞ»Ğ°



```dataviewjs

// Get current folder path

const currentFolder = dv.current().file.folder;



// Get all pages in the current folder, excluding the index file itself

const allPages = dv.pages(`"${currentFolder}"`)

    .where(p => p.file.name != dv.current().file.name);



// Separate pages into indexes and regular notes

const indexPages = allPages.where(p => p.file.name.endsWith("-summary.md"));

const notePages = allPages.where(p => !p.file.name.endsWith("-summary.md"));



// Display Subsections if any exist

if (indexPages.length > 0) {

    dv.header(2, "ĞŸĞ¾Ğ´Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ñ‹");

    dv.list(indexPages.sort(p => p.file.name, 'asc').file.link);

}



// Display Notes if any exist

if (notePages.length > 0) {

    dv.header(2, "Ğ—Ğ°Ğ¼ĞµÑ‚ĞºĞ¸ Ğ² ÑÑ‚Ğ¾Ğ¼ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğµ");

    dv.list(notePages.sort(p => p.file.name, 'asc').file.link);

}

```



# dddguard_architecture



---

meta:

  uuid: 645a00a7-7ea7-433c-bea7-04c73c5a41d4

  tags:

    - ddd

    - architecture

    - dddguard

    - guide

  status: evergreen

  type: resource

---



# ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğ¹ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚ `dddguard`



Ğ­Ñ‚Ğ¾Ñ‚ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ Ğ¾Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ Ğ²Ñ‹ÑĞ¾ĞºĞ¾ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ²ÑƒÑ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñƒ, ĞºĞ¾Ñ‚Ğ¾Ñ€ÑƒÑ `dddguard` Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ĞµÑ‚ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ, Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑÑ‚ÑŒ Ğ¸ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°Ñ‚ÑŒ. Ğ­Ñ‚Ğ¾Ñ‚ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚ Ğ½Ğ°Ñ†ĞµĞ»ĞµĞ½ Ğ½Ğ° Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ (Separation of Concerns) Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ñ‡ĞµÑ‚ĞºĞ¾ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ñ…, ÑĞ»Ğ°Ğ±Ğ¾ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹.



## ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹



ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¾ÑÑ‚Ğ¾Ğ¸Ñ‚ Ğ¸Ğ· Ñ‚Ñ€ĞµÑ… ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ñ… ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€ Ğ²ĞµÑ€Ñ…Ğ½ĞµĞ³Ğ¾ ÑƒÑ€Ğ¾Ğ²Ğ½Ñ:



-   `src/<context_name>/`: Ğ˜Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ **ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ñ‹Ğ¹ ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ (Bounded Context)**, Ñ€ĞµĞ°Ğ»Ğ¸Ğ·ÑƒÑÑ‰Ğ¸Ğ¹ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½ÑƒÑ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ.

-   `src/shared/`: **ĞĞ±Ñ‰Ğ°Ñ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ** Ğ´Ğ»Ñ ĞºĞ¾Ğ´Ğ°, Ğ¿ĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ğ¾Ğ³Ğ¾ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ğ¼Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°Ğ¼Ğ¸.

-   `src/root/`: **ĞšĞ¾Ñ€ĞµĞ½ÑŒ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸ (Composition Root)**, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑĞ¾Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ Ğ²ÑĞµ Ñ‡Ğ°ÑÑ‚Ğ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ğ² ĞµĞ´Ğ¸Ğ½Ğ¾Ğµ Ñ†ĞµĞ»Ğ¾Ğµ.



---



## ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ñ‹Ğ¹ ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ (`<context_name>/`)



Ğ­Ñ‚Ğ¾ ÑĞ°Ğ¼Ğ¾Ğ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ñ‹Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ ÑĞ¾ ÑĞ²Ğ¾Ğ¸Ğ¼Ğ¸ ÑĞ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ²Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğ¼Ğ¸ ÑĞ»Ğ¾ÑĞ¼Ğ¸.



### `domain/` â€” Ğ¯Ğ´Ñ€Ğ¾ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸



Ğ§Ğ¸ÑÑ‚Ñ‹Ğ¹, Ğ¸Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ ÑĞ»Ğ¾Ğ¹, Ğ½Ğµ Ğ·Ğ°Ğ²Ğ¸ÑÑÑ‰Ğ¸Ğ¹ Ğ½Ğ¸ Ğ¾Ñ‚ Ñ‡ĞµĞ³Ğ¾ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ³Ğ¾.

-   **`aggregates/`**: Ğ˜Ğ½ĞºĞ°Ğ¿ÑÑƒĞ»Ğ¸Ñ€ÑƒĞµÑ‚ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ¸ Ğ·Ğ°Ñ‰Ğ¸Ñ‰Ğ°ĞµÑ‚ Ğ¸Ğ½Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ñ‹.

-   **`entities/`**: Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹ Ñ ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒÑ.

-   **`vo/`**: ĞĞµĞ¸Ğ·Ğ¼ĞµĞ½ÑĞµĞ¼Ñ‹Ğµ Value Objects Ğ±ĞµĞ· Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸.

-   **`services/`**: Ğ”Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸, Ğ½Ğµ Ğ¿Ñ€Ğ¸Ğ½Ğ°Ğ´Ğ»ĞµĞ¶Ğ°Ñ‰Ğ¸Ğµ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ¼Ñƒ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñƒ.

-   **`events/`**: ĞÑ‚Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚ Ğ·Ğ½Ğ°Ñ‡Ğ¸Ğ¼Ñ‹Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ, Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ¾ÑˆĞµĞ´ÑˆĞ¸Ğµ Ğ² Ğ´Ğ¾Ğ¼ĞµĞ½Ğµ.

-   **`errors/`**: ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ğµ, Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ğ¾-ÑĞ¿ĞµÑ†Ğ¸Ñ„Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ¸ÑĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ.



### `app/` â€” Ğ¡Ğ»Ğ¾Ğ¹ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ (Ğ¾Ñ€ĞºĞµÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ)



ĞÑ€ĞºĞµÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½ÑƒÑ Ğ»Ğ¾Ğ³Ğ¸ĞºÑƒ Ğ´Ğ»Ñ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ´Ğ°Ñ‡.

-   **`use_cases/`**: Ğ ĞµĞ°Ğ»Ğ¸Ğ·ÑƒĞµÑ‚ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹, Ğ¸Ğ·Ğ¼ĞµĞ½ÑÑÑ‰Ğ¸Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹.

-   **`queries/`**: Ğ ĞµĞ°Ğ»Ğ¸Ğ·ÑƒĞµÑ‚ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ½Ğ° Ñ‡Ñ‚ĞµĞ½Ğ¸Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹.

-   **`workflows/`**: Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ´Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ°Ğ¼Ğ¸ (ÑĞ°Ğ³Ğ¸).

-   **`handlers/`**: Ğ ĞµĞ°Ğ³Ğ¸Ñ€ÑƒĞµÑ‚ Ğ½Ğ° Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¸Ğ»Ğ¸ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ.

-   **`interfaces/`**: ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚Ñ‹ (Ğ¿Ğ¾Ñ€Ñ‚Ñ‹) Ğ´Ğ»Ñ Ğ¸ÑÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ñ… (driven) Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€Ğ¾Ğ².



### `adapters/` â€” Ğ¡Ğ»Ğ¾Ğ¹ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ğ¸



Ğ¡Ğ»Ğ¾Ğ¹-Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‡Ğ¸Ğº Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞ´Ñ€Ğ¾Ğ¼ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ğ¸ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¼ Ğ¼Ğ¸Ñ€Ğ¾Ğ¼.

-   **`driving/`**: ĞĞ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ "Ğ´Ğ²Ğ¸Ğ³Ğ°ÑÑ‚" Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸ĞµĞ¼ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€Ñ‹, Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ÑÑ‰Ğ¸Ğµ HTTP-Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹).

-   **`driven/`**: ĞĞ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¼Ğ¸ "Ğ´Ğ²Ğ¸Ğ¶ĞµÑ‚" Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸, Ğ¸Ğ´ÑƒÑ‰Ğ¸Ğµ Ğ² Ğ±Ğ°Ğ·Ñƒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…).



### `dto/` â€” ĞĞ±ÑŠĞµĞºÑ‚Ñ‹ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…



ĞŸÑ€Ğ¾ÑÑ‚Ñ‹Ğµ, Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸-Ğ¿ÑƒÑÑ‚Ñ‹Ğµ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ….

-   **`driving/`**: Ğ’Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹).

-   **`driven/`**: Ğ˜ÑÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹, ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ).



### `ports/` â€” Ğ˜Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğ¹ ÑĞ»Ğ¾Ğ¹



Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ ĞºĞ¾Ğ´, ÑĞ¿ĞµÑ†Ğ¸Ñ„Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ´Ğ»Ñ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ñ… Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¹ (Ñ„Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€ĞºĞ¾Ğ², Ğ´Ñ€Ğ°Ğ¹Ğ²ĞµÑ€Ğ¾Ğ²).

-   **`driving/`**: Ğ¢Ğ¾Ñ‡ĞºĞ¸ Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ´Ğ»Ñ Ğ²Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ñ… ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ² (Ğ²ĞµĞ±-ÑĞµÑ€Ğ²ĞµÑ€, CLI-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ).

-   **`driven/`**: Ğ¢Ğ¾Ñ‡ĞºĞ¸ Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ° Ğ´Ğ»Ñ Ğ¸ÑÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ñ… ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ² (ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ‘Ğ”, HTTP-ĞºĞ»Ğ¸ĞµĞ½Ñ‚).



### `composition.py` â€” Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°



"ĞšĞ»ĞµĞ¹", ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑĞ¾ĞµĞ´Ğ¸Ğ½ÑĞµÑ‚ Ğ²ÑĞµ Ğ²Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ° Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ Dependency Injection. ĞĞ½ ĞµĞ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¾Ğ±Ğ¾ Ğ²ÑĞµÑ… ÑĞ»Ğ¾ÑÑ… *Ğ´Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾* ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°.



---



## ĞĞ±Ñ‰Ğ°Ñ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ (`shared/`)



ĞœĞµÑÑ‚Ğ¾ Ğ´Ğ»Ñ ĞºĞ¾Ğ´Ğ°, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ğ¼Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°Ğ¼Ğ¸. Ğ­Ñ‚Ğ¾ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ¾Ğ±Ñ‰Ğ¸Ğ¹ Ğ´Ğ¾Ğ¼ĞµĞ½ (`shared kernel`), Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸ Ğ¸Ğ»Ğ¸ ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹.



**ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ¾:** ĞšĞ¾Ğ´ Ğ² `shared/` Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ Ğ¾Ñ‡ĞµĞ½ÑŒ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¼, Ñ‚Ğ°Ğº ĞºĞ°Ğº Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ² Ğ½ĞµĞ¼ Ğ²Ğ»Ğ¸ÑÑÑ‚ Ğ½Ğ° Ğ²ÑĞµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ñ‹Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ñ‹. ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ñ‹ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ·Ğ°Ğ²Ğ¸ÑĞµÑ‚ÑŒ Ğ¾Ñ‚ `shared/`, Ğ½Ğ¾ `shared/` Ğ½Ğµ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ·Ğ°Ğ²Ğ¸ÑĞµÑ‚ÑŒ Ğ¾Ñ‚ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ².



---



## ĞšĞ¾Ñ€ĞµĞ½ÑŒ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸ (`root/`)



Ğ•Ğ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğµ Ğ¼ĞµÑÑ‚Ğ¾, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğµ Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¾Ğ±Ğ¾ Ğ²ÑĞµÑ… ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°Ñ… Ğ¸ ÑĞ¾Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ Ğ¸Ñ… Ğ²Ğ¼ĞµÑÑ‚Ğµ.

-   **`composition.py`**: Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞ±Ğ¾Ñ€Ñ‰Ğ¸Ğº, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ğ²ÑĞµ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ñ‹ Ğ¸ `shared/` ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹, "ÑĞºĞ»ĞµĞ¸Ğ²Ğ°Ñ" Ğ¸Ñ… Ğ²Ğ¼ĞµÑÑ‚Ğµ.

-   **`main.py` / `cli.py`**: Ğ¢Ğ¾Ñ‡ĞºĞ¸ Ğ²Ñ…Ğ¾Ğ´Ğ°, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ÑÑ‚ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Ğ²ĞµĞ±-ÑĞµÑ€Ğ²ĞµÑ€ Ğ¸Ğ»Ğ¸ CLI), Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑ ÑĞ±Ğ¾Ñ€Ñ‰Ğ¸Ğº.



---



## ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğ¹ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿: ĞŸĞ¾Ñ€Ñ‚Ñ‹ vs. ĞĞ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹



Ğ­Ñ‚Ğ¾ Ğ²Ğ°Ğ¶Ğ½Ğ¾Ğµ Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ĞµÑ‚ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñƒ Ñ‡Ğ¸ÑÑ‚Ğ¾Ğ¹.



-   **ĞŸĞ¾Ñ€Ñ‚** â€” ÑÑ‚Ğ¾ **Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚**. Ğ­Ñ‚Ğ¾ Ğ½Ğ¸Ğ·ĞºĞ¾ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ²Ñ‹Ğ¹, Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚.

    -   *ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:* `SQLAlchemy Session` Ğ² `ports/driven/db/`. ĞĞ½ ÑƒĞ¼ĞµĞµÑ‚ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑÑ‚ÑŒ `session.commit()`.

-   **ĞĞ´Ğ°Ğ¿Ñ‚ĞµÑ€** â€” ÑÑ‚Ğ¾ **Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ°** Ğ´Ğ»Ñ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸.

    -   *ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:* `InvoiceRepository` Ğ² `adapters/driven/repositories/`. ĞĞ½ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ `SQLAlchemy Session` (ĞŸĞ¾Ñ€Ñ‚), Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¾Ğ±ÑŠĞµĞºÑ‚ `Invoice` (ĞĞ´Ğ°Ğ¿Ñ‚ĞµÑ€).



# domain



# ĞĞ½Ğ°Ñ‚Ğ¾Ğ¼Ğ¸Ñ: [[domain]] (Ğ¯Ğ´Ñ€Ğ¾)



Ğ¡Ğ»Ğ¾Ğ¹ `domain` â€” ÑÑ‚Ğ¾ Ğ¸Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğµ ÑĞ´Ñ€Ğ¾ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸. ĞĞ½ Ğ½Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ñ… ÑĞ»Ğ¾ĞµĞ²([[app]],  [[adapters]]) Ğ¸ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ‡Ğ¸ÑÑ‚Ñ‹Ğµ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ¸ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸.



ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ ÑÑ‚Ğ¾Ğ³Ğ¾ ÑĞ»Ğ¾Ñ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾ Ñ€Ğ°ÑĞ¿Ğ¾Ğ»Ğ°Ğ³Ğ°ÑÑ‚ÑÑ Ğ² Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ `domain/` Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ [[01-2_MyProjects - dddguard - guidelines - context_content-summary|ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°]] (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, `billing/domain/` Ğ¸Ğ»Ğ¸ `shipping/domain/`).



### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹



```

billing/

â””â”€â”€ domain/

    â”œâ”€â”€ aggregates/

    â”‚   â””â”€â”€ invoice_aggregate.py      # Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ InvoiceRoot Ğ¸ LineItem (Entity)

    â”œâ”€â”€ services/

    â”‚   â””â”€â”€ vat_calculation_service.py

    â”œâ”€â”€ value_objects/

    â”‚   â”œâ”€â”€ currency_vo.py

    â”‚   â””â”€â”€ money_vo.py

    â”œâ”€â”€ events/

    â”‚   â””â”€â”€ invoice_finalized_event.py

    â””â”€â”€ errors/

        â””â”€â”€ payment_error.py

```



---



### 1. Value Object



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** ĞĞµĞ¸Ğ·Ğ¼ĞµĞ½ÑĞµĞ¼Ñ‹Ğ¹ [[#1-value-object|Value Object]], Ğ¾Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ÑÑ‰Ğ¸Ğ¹ Ñ…Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ¸ÑÑ‚Ğ¸ĞºÑƒ Ğ¸Ğ»Ğ¸ Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚, Ğ½Ğµ Ğ¸Ğ¼ĞµÑÑ‰Ğ¸Ğ¹ ÑĞ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸ (e.g., `Money`, `EmailAddress`). Ğ Ğ°Ğ²ĞµĞ½ÑÑ‚Ğ²Ğ¾ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ÑÑ Ğ¿Ğ¾ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸ÑĞ¼ Ğ¿Ğ¾Ğ»ĞµĞ¹.

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `value_objects`, `vo`, `types` Ğ¸Ğ»Ğ¸ `enums`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*vo$`, `.*valueobject$`, `.*value$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ:** ĞĞµ Ğ¸Ğ¼ĞµĞµÑ‚ ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ `ID` Ğ¸ ÑĞ²Ğ»ÑĞµÑ‚ÑÑ `immutable`.



### 2. Entity



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** Ğ˜Ğ·Ğ¼ĞµĞ½ÑĞµĞ¼Ñ‹Ğ¹ [[#2-entity|Ğ¾Ğ±ÑŠĞµĞºÑ‚]], Ğ¾Ğ±Ğ»Ğ°Ğ´Ğ°ÑÑ‰Ğ¸Ğ¹ ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒÑ ([[#2-entity|ID]]) Ğ¸ Ğ¶Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ñ‹Ğ¼ Ñ†Ğ¸ĞºĞ»Ğ¾Ğ¼ (e.g., `Customer`, `Product`).

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `entities`, `models`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*entity$`, `.*_ent$`, `.*model$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ:** Ğ˜Ğ¼ĞµĞµÑ‚ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ `ID`, Ğ½Ğ° ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ ÑĞ¾ÑĞ»Ğ°Ñ‚ÑŒÑÑ. Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¼ĞµĞ½ÑÑ‚ÑŒÑÑ ÑĞ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½ĞµĞ¼.



### 3. Aggregate Root



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** ĞšĞ¾Ñ€ĞµĞ½ÑŒ ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ğ° [[#2-entity|Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ñ… Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ²]] ([[#2-entity|Entities]] Ğ¸ [[#1-value-object|Value Objects]]), ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ĞµÑ‚ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¾Ğ½Ğ½ÑƒÑ Ñ†ĞµĞ»Ğ¾ÑÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸ Ğ·Ğ°Ñ‰Ğ¸Ñ‰Ğ°ĞµÑ‚ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ¸Ğ½Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ñ‹. Ğ’ÑĞµ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğµ Ğ¾Ğ±Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ñ Ğº ĞºĞ»Ğ°ÑÑ‚ĞµÑ€Ñƒ Ğ¸Ğ´ÑƒÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ‡ĞµÑ€ĞµĞ· [[#3-aggregate-root|Aggregate Root]].

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `aggregates` Ğ¸Ğ»Ğ¸ `agg`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*aggregate$`, `.*root$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ`:** Ğ¯Ğ²Ğ»ÑĞµÑ‚ÑÑ Ñ‚Ğ¾Ñ‡ĞºĞ¾Ğ¹ Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ñ†ĞµĞ»Ğ¾Ğ¹ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹ ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ².



### 4. Domain Service



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** Ğ¡ĞµÑ€Ğ²Ğ¸Ñ Ğ±ĞµĞ· ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ (`stateless`), Ñ€ĞµĞ°Ğ»Ğ¸Ğ·ÑƒÑÑ‰Ğ¸Ğ¹ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºÑƒ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ Ğ½Ğµ ĞµÑÑ‚ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ° Ğ´Ğ»Ñ ĞºĞ°ĞºĞ¾Ğ³Ğ¾-Ğ»Ğ¸Ğ±Ğ¾ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ [[#2-entity|Entity]] Ğ¸Ğ»Ğ¸ [[#1-value-object|Value Object]]. ĞšĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ğ¼Ğ¸ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ°Ğ¼Ğ¸.

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `services`, `policies`, `logic` Ğ¸Ğ»Ğ¸ `rules`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*service$`, `.*policy$`, `.*rule$`, `.*logic$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¾Ñ‚ [[app#1-use-case|App Service]]**: ĞĞ¿ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ°Ğ¼Ğ¸ Ğ¸ Ğ½Ğµ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²ÑƒĞµÑ‚ Ñ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¼ Ğ¼Ğ¸Ñ€Ğ¾Ğ¼ (Ğ‘Ğ”, API). Ğ ĞµĞ°Ğ»Ğ¸Ğ·ÑƒĞµÑ‚ **Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°**, Ğ° Ğ½Ğµ **Ğ¿Ğ¾Ñ‚Ğ¾Ğº Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ**.



### 5. Domain Event



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** ĞĞµĞ¸Ğ·Ğ¼ĞµĞ½ÑĞµĞ¼Ñ‹Ğ¹ Ğ¾Ğ±ÑŠĞµĞºÑ‚, Ñ„Ğ¸ĞºÑĞ¸Ñ€ÑƒÑÑ‰Ğ¸Ğ¹ Ñ„Ğ°ĞºÑ‚, Ñ‡Ñ‚Ğ¾ Ğ² Ğ´Ğ¾Ğ¼ĞµĞ½Ğµ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ¾ÑˆĞ»Ğ¾ Ğ²Ğ°Ğ¶Ğ½Ğ¾Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ´Ğ»Ñ ÑĞ»Ğ°Ğ±Ğ¾Ğ¹ ÑĞ²ÑĞ·Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹.

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `events` Ğ¸Ğ»Ğ¸ `domain_events`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*event$`, `.*occurred$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¾Ñ‚ [[dto|DTO]]**: ĞĞ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ ÑĞ²ĞµÑ€ÑˆĞ¸Ğ²ÑˆĞ¸Ğ¹ÑÑ Ñ„Ğ°ĞºÑ‚ Ğ² Ğ¿Ñ€Ğ¾ÑˆĞ»Ğ¾Ğ¼, Ğ° Ğ½Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ Ğ¸Ğ»Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ¸.



### 6. Factory



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** ĞĞ±ÑŠĞµĞºÑ‚, Ğ¸Ğ½ĞºĞ°Ğ¿ÑÑƒĞ»Ğ¸Ñ€ÑƒÑÑ‰Ğ¸Ğ¹ ÑĞ»Ğ¾Ğ¶Ğ½ÑƒÑ Ğ»Ğ¾Ğ³Ğ¸ĞºÑƒ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ñ… Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ² ([[#2-entity|Entities]], [[#3-aggregate-root|Aggregates]]), Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€ÑƒÑ Ğ¸Ñ… Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ² Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ.

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `factories`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*factory$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¾Ñ‚ [[3_Knowledge/Libraries/Backend/Dishka|DI-ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°]]**: Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹, Ğ° Ğ½Ğµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹ Ğ¸Ğ»Ğ¸ Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹.



### 7. Domain Error



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** Ğ¡Ğ¿ĞµÑ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğµ Ğ¸ÑĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ, ÑĞ²Ğ»ÑÑÑ‰ĞµĞµÑÑ Ñ‡Ğ°ÑÑ‚ÑŒÑ Ğ•Ğ´Ğ¸Ğ½Ğ¾Ğ³Ğ¾ Ğ¯Ğ·Ñ‹ĞºĞ° (Ubiquitous Language) Ğ¸ Ğ¾Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ÑÑ‰ĞµĞµ Ğ½Ğ°Ñ€ÑƒÑˆĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°.

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `domain_errors`, `errors` Ğ¸Ğ»Ğ¸ `exceptions`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*error$`, `.*exception$`, `.*failure$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¾Ñ‚ `Standard Exception`:** ĞĞ±Ğ»Ğ°Ğ´Ğ°ĞµÑ‚ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-ÑĞ¼Ñ‹ÑĞ»Ğ¾Ğ¼, Ğ° Ğ½Ğµ Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¼ (e.g., `InsufficientFundsError` Ğ²Ğ¼ĞµÑÑ‚Ğ¾ `ValueError`).



---

#note/guide #topic/ddd #topic/architecture



# dto



# ĞĞ½Ğ°Ñ‚Ğ¾Ğ¼Ğ¸Ñ: [[dto|DTO]] (Data Transfer Objects)



Data Transfer Objects â€” ÑÑ‚Ğ¾ Ğ¿Ñ€Ğ¾ÑÑ‚Ñ‹Ğµ, Ğ½Ğµ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‰Ğ¸Ğµ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹, Ğ¿Ñ€ĞµĞ´Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾Ğ¹ Ğ¸ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ¹ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞ»Ğ¾ÑĞ¼Ğ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ğ¸ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¼Ğ¸ Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°Ğ¼Ğ¸. ĞĞ½Ğ¸ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ÑÑÑ‚ Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚.



DTO Ğ¾Ğ´Ğ½Ğ¾Ğ·Ğ½Ğ°Ñ‡Ğ½Ğ¾ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ÑÑÑ‚ÑÑ Ğ¿Ğ¾ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…: `driving` (Ğ²Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ) Ğ¸ `driven` (Ğ¸ÑÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ). Ğ”Ğ»Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞµĞ¹ ÑÑĞ½Ğ¾ÑÑ‚Ğ¸ Ğ¸Ñ… Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ğ¾ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ñƒ Ğ¸Ğ»Ğ¸ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸.



### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹



```

billing/

â””â”€â”€ dto/

    â”œâ”€â”€ driving/            # Ğ’Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ DTO (Ğ—Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹)

    â”‚   â”œâ”€â”€ http/

    â”‚   â”‚   â””â”€â”€ create_invoice_request_dto.py

    â”‚   â””â”€â”€ rpc/

    â”‚       â””â”€â”€ get_status_request_dto.py

    â””â”€â”€ driven/             # Ğ˜ÑÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ DTO (ĞÑ‚Ğ²ĞµÑ‚Ñ‹)

        â”œâ”€â”€ kafkĞ°/

        â”‚   â””â”€â”€ invoice_finalized_event_dto.py

        â””â”€â”€ ws/

            â””â”€â”€ notification_response_dto.py

```



---



### 1. Request DTO



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** Ğ’Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğ¹ Ğ¾Ğ±ÑŠĞµĞºÑ‚ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğ¹ Ğ´Ğ»Ñ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ¸ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸, Ğ¿Ğ¾ÑÑ‚ÑƒĞ¿Ğ°ÑÑ‰ĞµĞ¹ *Ğ²* Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¸Ğ· Ğ²Ğ½ĞµÑˆĞ½ĞµĞ³Ğ¾ Ğ¼Ğ¸Ñ€Ğ° (e.g., HTTP-Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ). ĞĞµ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸.

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ Ğ² Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ `dto/driving/`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ñ„Ğ°Ğ¹Ğ»Ğ° Ğ²ÑĞµĞ³Ğ´Ğ° ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ ÑÑƒÑ„Ñ„Ğ¸ĞºÑ `_dto` (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, `create_invoice_request_dto.py`).

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¾Ñ‚ [[#2-response-dto|Response DTO]]:** ĞŸĞµÑ€ĞµĞ½Ğ¾ÑĞ¸Ñ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ *Ğ²* ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ. ĞœĞ¾Ğ¶ĞµÑ‚ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ Ğ¼ĞµÑ‚Ğ¾Ğ´ `to_domain()` Ğ´Ğ»Ñ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ² [[domain|Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹]].



### 2. Response DTO



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** Ğ˜ÑÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğ¹ Ğ¾Ğ±ÑŠĞµĞºÑ‚ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğ¹ Ğ´Ğ»Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸, ĞºĞ¾Ñ‚Ğ¾Ñ€ÑƒÑ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ´Ğ°ĞµÑ‚ *Ğ½Ğ°Ñ€ÑƒĞ¶Ñƒ* (e.g., HTTP-Ğ¾Ñ‚Ğ²ĞµÑ‚). ĞŸÑ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞ¾Ğ±Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ†Ğ¸Ñ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ….

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ Ğ² Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ `dto/driven/`.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ñ„Ğ°Ğ¹Ğ»Ğ° Ğ²ÑĞµĞ³Ğ´Ğ° ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ ÑÑƒÑ„Ñ„Ğ¸ĞºÑ `_dto` (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, `invoice_details_response_dto.py`).

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¾Ñ‚ [[#1-request-dto|Request DTO]]:** ĞŸĞµÑ€ĞµĞ½Ğ¾ÑĞ¸Ñ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ *Ğ¸Ğ·* ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹. ĞœĞ¾Ğ¶ĞµÑ‚ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ Ñ„Ğ°Ğ±Ñ€Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ¼ĞµÑ‚Ğ¾Ğ´ `from_domain()` Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ¸Ğ· [[domain|Ğ´Ğ¾Ğ¼ĞµĞ½Ğ½Ñ‹Ñ… Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ²]].



---

#note/guide #topic/ddd #topic/architecture



# ports



# ĞĞ½Ğ°Ñ‚Ğ¾Ğ¼Ğ¸Ñ: [[ports|ports]] (Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°)



Ğ¡Ğ»Ğ¾Ğ¹ `ports` â€” ÑÑ‚Ğ¾ Ñ‚Ğ¾Ñ‡ĞºĞ° ÑĞ¾Ğ¿Ñ€Ğ¸ĞºĞ¾ÑĞ½Ğ¾Ğ²ĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ñ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¼ Ğ¼Ğ¸Ñ€Ğ¾Ğ¼ Ğ½Ğ° ÑƒÑ€Ğ¾Ğ²Ğ½Ğµ **Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¹**. Ğ—Ğ´ĞµÑÑŒ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ ĞºĞ¾Ğ´, Ğ¶ĞµÑÑ‚ĞºĞ¾ Ğ¿Ñ€Ğ¸Ğ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğº ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¼ Ñ„Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€ĞºĞ°Ğ¼, Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ°Ğ¼ Ğ¸ Ğ´Ñ€Ğ°Ğ¹Ğ²ĞµÑ€Ğ°Ğ¼ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, FastAPI, SQLAlchemy, Kafka-client). ĞŸĞ¾Ñ€Ñ‚Ñ‹ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ÑÑ‚ Ğ¸ÑĞºĞ»ÑÑ‡Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ·Ğ° Ğ²Ğ²Ğ¾Ğ´/Ğ²Ñ‹Ğ²Ğ¾Ğ´ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…, Ğ½Ğµ Ğ¸Ğ¼ĞµÑ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¾ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞµ.



ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ ÑÑ‚Ğ¾Ğ³Ğ¾ ÑĞ»Ğ¾Ñ Ñ€Ğ°ÑĞ¿Ğ¾Ğ»Ğ°Ğ³Ğ°ÑÑ‚ÑÑ Ğ² Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸ÑÑ… ports/driving/, ports/driven/ Ğ¸Ğ»Ğ¸ ports/bidirectional/ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ [[2_MyProjects/dddguard/guidelines/context_content/context_composition|ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°]]. Ğ”Ğ°Ğ»ĞµĞµ Ğ¾Ğ½Ğ¸ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ñ‹ Ğ¿Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ğ¾Ğ¹ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸.



### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹



```

billing/

â””â”€â”€ ports/

    â”œâ”€â”€ driving/            # Ğ’Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ Ğ¿Ğ¾Ñ€Ñ‚Ñ‹ (Ğ¿Ñ€Ğ¸ĞµĞ¼ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ñ… ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ²)

    â”‚   â”œâ”€â”€ http/

    â”‚   â”‚   â””â”€â”€ fastapi_app.py

    â”‚   â””â”€â”€ cli/

    â”‚       â””â”€â”€ typer_cli.py

    â”œâ”€â”€ driven/             # Ğ˜ÑÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ Ğ¿Ğ¾Ñ€Ñ‚Ñ‹ (Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ² Ğ²Ğ¾Ğ²Ğ½Ğµ)

    â”‚   â”œâ”€â”€ db/

    â”‚   â”‚   â””â”€â”€ sqlalchemy_session.py

    â”‚   â””â”€â”€ message_bus/

    â”‚       â””â”€â”€ kafka_producer_client.py

    â””â”€â”€ bidirectional/      # Ğ”Ğ²ÑƒĞ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ñ€Ñ‚Ñ‹ (Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ°Ñ ÑĞ²ÑĞ·ÑŒ)

        â””â”€â”€ websockets/

            â””â”€â”€ socket_manager.py

```



---



## 1. Driving Ports (Ğ’Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ Ğ¿Ğ¾Ñ€Ñ‚Ñ‹)



Ğ­Ñ‚Ğ¸ Ğ¿Ğ¾Ñ€Ñ‚Ñ‹ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑÑÑ‚ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼Ñ‹, Ñ‡ĞµÑ€ĞµĞ· ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ Ğ¼Ğ¸Ñ€ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹ *Ğ²* Ğ½Ğ°ÑˆĞµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ. ĞĞ½Ğ¸ ÑĞ²Ğ»ÑÑÑ‚ÑÑ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸ÑĞ¼Ğ¸ Ğ½Ğ¸Ğ·ĞºĞ¾ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ²Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ¾Ğ².



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ² Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (e.g., Ğ²ĞµĞ±-ÑĞµÑ€Ğ²ĞµÑ€, Ğ¿Ğ°Ñ€ÑĞµÑ€ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ½Ğ¾Ğ¹ ÑÑ‚Ñ€Ğ¾ĞºĞ¸).

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `ports/driving/`. ĞœĞ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ¿Ğ¾ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸ (e.g., `ports/driving/http/`, `ports/driving/cli/`).

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*server$`, `.*cli$`, `.*app$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ:** ĞÑ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ·Ğ° Ğ¿Ñ€Ğ¸ĞµĞ¼ "ÑÑ‹Ñ€Ñ‹Ñ…" Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸Ğ· Ğ²Ğ½ĞµÑˆĞ½ĞµĞ³Ğ¾ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ° Ğ¸ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ñƒ Ğ¸Ñ… [[adapters#2-driving-adapters-Ğ²Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ-Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹|Driving Adapters]].



## 2. Driven Ports (Ğ˜ÑÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ Ğ¿Ğ¾Ñ€Ñ‚Ñ‹)



Ğ­Ñ‚Ğ¸ Ğ¿Ğ¾Ñ€Ñ‚Ñ‹ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑÑÑ‚ Ğ½Ğ¸Ğ·ĞºĞ¾ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ²Ñ‹Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹ Ğ¸ Ğ´Ñ€Ğ°Ğ¹Ğ²ĞµÑ€Ñ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Ğ´Ğ»Ñ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… *Ğ²Ğ¾Ğ²Ğ½Ğµ*.



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ Ñ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¼Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°Ğ¼Ğ¸ (e.g., Ğ´Ñ€Ğ°Ğ¹Ğ²ĞµÑ€ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…, HTTP-ĞºĞ»Ğ¸ĞµĞ½Ñ‚).

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `ports/driven/`. ĞœĞ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ¿Ğ¾ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸ (e.g., `ports/driven/db/`, `ports/driven/http_clients/`).

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ˜Ğ¼Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (Ñ„Ğ°Ğ¹Ğ»Ğ°) ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ `.*db$`, `.*engine$`, `.*session$`, `.*client$`.

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ:** ĞÑ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ·Ğ° Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºÑƒ "ÑÑ‹Ñ€Ñ‹Ñ…" Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ²Ğ¾ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº, Ğ½Ğµ Ğ·Ğ°Ğ±Ğ¾Ñ‚ÑÑÑŒ Ğ¾ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞµ.



## 3. Bidirectional Ports (Ğ”Ğ²ÑƒĞ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ñ€Ñ‚Ñ‹)



Ğ­Ñ‚Ğ° ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ğ¿Ñ€ĞµĞ´Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ° Ğ´Ğ»Ñ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ÑÑ‚ Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ñ‹Ğ¹ Ğ´Ğ²ÑƒÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğ½Ğ¸Ğ¹ ĞºĞ°Ğ½Ğ°Ğ» ÑĞ²ÑĞ·Ğ¸, Ğ³Ğ´Ğµ Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ»ÑĞ±Ğ°Ñ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğ°.



-   **Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾:** Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ´Ğ²ÑƒÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğ½ĞµĞ³Ğ¾ ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ñ (e.g., WebSockets, gRPC ÑÑ‚Ñ€Ğ¸Ğ¼Ğ¸Ğ½Ğ³).

-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞŸÑƒÑ‚ÑŒ Ğº Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ `ports/bidirectional/`. ĞœĞ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ¿Ğ¾ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸ (e.g., `ports/bidirectional/websockets/`).

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ÑÑ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ¹ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸ĞµĞ¹ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, `.*socket$`, `.*ws_client$`).

-   **ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ:** ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ¾Ğ±Ğ¼ĞµĞ½ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ² Ğ¾Ğ±Ğµ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñ‹, Ğ² Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¾Ñ‚ Ğ¾Ğ´Ğ½Ğ¾Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ñ… Ğ²Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ñ…/Ğ¸ÑÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ñ… Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ².



---



### ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ: Adapter vs Port

-   **[[ports|Port]] (`ports/driven/db/sqlalchemy_session.py`):** Ğ­Ñ‚Ğ¾ `SQLAlchemy Session`. ĞĞ½Ğ° ÑƒĞ¼ĞµĞµÑ‚ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ `add()`, `commit()`, `execute("SELECT...")`. Ğ­Ñ‚Ğ¾ **Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚**.

-   **[[adapters|Adapter]] (`adapters/driven/repositories/sql_invoice_repository.py`):** Ğ­Ñ‚Ğ¾ `InvoiceRepository`. ĞĞ½ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ **[[ports|ĞŸĞ¾Ñ€Ñ‚]]** (`SQLAlchemy Session`), Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ [[domain#3-aggregate-root|Invoice]] ([[domain|Ğ”Ğ¾Ğ¼ĞµĞ½]]) Ğ² Ğ±Ğ°Ğ·Ñƒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…. Ğ­Ñ‚Ğ¾ **Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ°**.



---

#note/guide #topic/ddd #topic/architecture



# shared_kernel



# ĞĞ½Ğ°Ñ‚Ğ¾Ğ¼Ğ¸Ñ: [[shared_kernel|Shared Kernel]] (ĞĞ±Ñ‰ĞµĞµ Ğ¯Ğ´Ñ€Ğ¾)



**Shared Kernel** â€” ÑÑ‚Ğ¾ Ğ²Ñ‹Ğ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ğ¹ [[2_MyProjects/dddguard/guidelines/context_content/context_composition|Bounded Context]], ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‰Ğ¸Ğ¹ Ğ½Ğ°Ğ±Ğ¾Ñ€ Ğ¾Ğ±Ñ‰Ğ¸Ñ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ² ([[context_content/domain#1-value-object|Value Objects]], [[context_content/dto|DTO]], [[context_content/app#5-interface|Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹]], Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹, Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ Ğ¸ÑĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ğ¸ Ñ‚.Ğ´.), ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ Ğ¿ĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ğ¼Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼Ğ¸ [[2_MyProjects/dddguard/guidelines/context_content/context_composition|Bounded Contexts]]. Ğ•Ğ³Ğ¾ Ñ†ĞµĞ»ÑŒ â€” Ğ¸Ğ·Ğ±ĞµĞ¶Ğ°Ñ‚ÑŒ Ğ´ÑƒĞ±Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ĞºĞ¾Ğ´Ğ°, Ğ½Ğ¾ Ğ¿Ñ€Ğ¸ ÑÑ‚Ğ¾Ğ¼ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¶ĞµÑÑ‚ĞºÑƒÑ ÑĞ²ÑĞ·Ğ½Ğ¾ÑÑ‚ÑŒ.



`Shared Kernel` Ğ½Ğµ Ğ¸Ğ¼ĞµĞµÑ‚ ÑÑ‚Ñ€Ğ¾Ğ³Ğ¸Ñ… Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ» Ğ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ½Ğ° ÑƒÑ€Ğ¾Ğ²Ğ½Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²/Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹, ĞºĞ°Ğº Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ñ‹Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ñ‹. ĞĞ´Ğ½Ğ°ĞºĞ¾, ÑĞºĞ°Ğ½ĞµÑ€ `dddguard` Ğ¿Ğ¾-Ğ¿Ñ€ĞµĞ¶Ğ½ĞµĞ¼Ñƒ Ğ¿Ñ‹Ñ‚Ğ°ĞµÑ‚ÑÑ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ñ‚ÑŒ ÑĞ»Ğ¾Ğ¸ Ğ¸ Ñ‚Ğ¸Ğ¿Ñ‹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ² Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ `Shared Kernel`, Ğ¸ÑÑ…Ğ¾Ğ´Ñ Ğ¸Ğ· ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ ĞµĞ³Ğ¾ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¹.



### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹



```

src/

â””â”€â”€ shared_kernel/

    â”œâ”€â”€ __init__.py

    â”‚

    â”œâ”€â”€ domain/                 # ĞœĞ¾Ğ¶ĞµÑ‚ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ Ğ¾Ğ±Ñ‰Ğ¸Ğµ Value Objects

    â”‚   â””â”€â”€ money_vo.py

    â”‚

    â”œâ”€â”€ app/                    # ĞœĞ¾Ğ¶ĞµÑ‚ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ Ğ¾Ğ±Ñ‰Ğ¸Ğµ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹ (Ğ¿Ğ¾Ñ€Ñ‚Ñ‹)

    â”‚   â””â”€â”€ interfaces/

    â”‚       â””â”€â”€ i_event_bus.py

    â”‚

    â”œâ”€â”€ dto/                    # ĞĞ±Ñ‰Ğ¸Ğµ DTO Ğ´Ğ»Ñ Ğ¼ĞµĞ¶ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ğ±Ğ¼ĞµĞ½Ğ°

    â”‚   â””â”€â”€ user_profile_dto.py

    â”‚

    â””â”€â”€ utils/                  # ĞĞ±Ñ‰Ğ¸Ğµ ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹

        â””â”€â”€ date_helpers.py

```



---



### Ğ—Ğ¾Ğ»Ğ¾Ñ‚Ñ‹Ğµ ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ°



1.  **Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸:** `Shared Kernel` Ğ½Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ². Ğ”Ñ€ÑƒĞ³Ğ¸Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ñ‹ **Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒÑÑ‚** Ğ¸ **Ğ·Ğ°Ğ²Ğ¸ÑÑÑ‚** Ğ¾Ñ‚ `Shared Kernel`.

2.  **Ğ˜Ğ·Ğ¾Ğ»ÑÑ†Ğ¸Ñ Ğ”Ğ¾Ğ¼ĞµĞ½Ğ°:** [[context_content/domain|domain]]-ÑĞ»Ğ¾Ñ Ğ»ÑĞ±Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ° **Ğ·Ğ°Ğ¿Ñ€ĞµÑ‰ĞµĞ½Ğ¾** Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ‡Ñ‚Ğ¾-Ğ»Ğ¸Ğ±Ğ¾ Ğ¸Ğ· `shared_kernel/domain`. Ğ­Ñ‚Ğ¾ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ´Ğ»Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ Ñ‡Ğ¸ÑÑ‚Ğ¾Ñ‚Ñ‹ Ğ¸ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ¹ Ğ¸Ğ·Ğ¾Ğ»ÑÑ†Ğ¸Ğ¸ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸. Ğ¡Ğ»Ğ¾Ğ¸ [[context_content/app|app]], [[context_content/adapters|adapters]] Ğ¸ [[context_content/ports|ports]] Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ `Shared Kernel`.

3.  **Ğ¡Ñ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ:** ĞšĞ¾Ğ´ Ğ² `Shared Kernel` Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¼. Ğ›ÑĞ±Ğ¾Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ·Ğ´ĞµÑÑŒ Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ·Ğ°Ñ‚Ñ€Ğ°Ğ³Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ²ÑĞµ Ğ·Ğ°Ğ²Ğ¸ÑÑÑ‰Ğ¸Ğµ Ğ¾Ñ‚ Ğ½ĞµĞ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ñ‹.

4.  **Ğ¡Ğ¾ÑÑ‚Ğ°Ğ²:** ĞĞ±Ñ‹Ñ‡Ğ½Ğ¾ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚:

    *   ĞĞ±Ñ‰Ğ¸Ğµ **[[context_content/domain#1-value-object|Value Objects]]** (`Money`, `EmailAddress`).

    *   Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ **[[context_content/app#5-interface|Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹/Ğ¿Ğ¾Ñ€Ñ‚Ñ‹]]** (`IEventBus`, `ICommitter`).

    *   **[[context_content/dto|DTO]]** Ğ´Ğ»Ñ Ğ¼ĞµĞ¶ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ğ±Ğ¼ĞµĞ½Ğ° (`UserProfileDto`).

    *   ĞĞ±Ñ‰Ğ¸Ğµ **ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹** Ğ¸ **Ñ…ĞµĞ»Ğ¿ĞµÑ€Ñ‹** (`date_helpers`).

    *   Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ **Ğ¸ÑĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ** (`EntityNotFoundError`).



### ĞšĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ ÑĞºĞ°Ğ½ĞµÑ€Ğ¾Ğ¼ (`dddguard`)



-   **Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Heuristic):** ĞÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ `shared/` Ğ¸Ğ»Ğ¸ `shared_kernel/` Ğ½Ğ° Ğ²ĞµÑ€Ñ…Ğ½ĞµĞ¼ ÑƒÑ€Ğ¾Ğ²Ğ½Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°. Ğ’Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğµ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, `shared/domain/`, `shared/app/`) Ğ±ÑƒĞ´ÑƒÑ‚ ĞºĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ ÑĞºĞ°Ğ½ĞµÑ€Ğ¾Ğ¼ Ğ°Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ¸Ñ‡Ğ½Ğ¾ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¼ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°Ğ¼.

-   **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (RegEx):** Ğ¡Ñ‚Ñ€Ğ¾Ğ³Ğ¸Ñ… Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ» Ğ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ½Ğ° ÑƒÑ€Ğ¾Ğ²Ğ½Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ°/Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ Ğ½ĞµÑ‚ (Ğ² `rules_registry` Ğ¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒÑÑ‚ ÑĞ¿ĞµÑ†Ğ¸Ñ„Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ´Ğ»Ñ `SHARED`). Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑÑĞ½Ñ‹Ğµ, ÑĞ°Ğ¼Ğ¾Ğ¾Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ÑÑ‰Ğ¸Ğµ Ğ¸Ğ¼ĞµĞ½Ğ°, ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ Ğ¸Ñ… Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ.



---

#note/guide #topic/ddd #topic/architecture





Ğ¼Ñ‹ ÑƒĞ¶Ğµ ÑƒÑ‚Ğ²ĞµÑ€Ğ´Ğ¸Ğ»Ğ¸ Ğ¾Ğ±Ñ‰Ğ¸Ğ¹ Ğ¿Ğ»Ğ°Ğ½ Ğ¿Ñ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸ Ğ¸ Ğ¼Ñ‹ Ğ±ÑƒĞµĞ´Ğ¼ ĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¸Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°Ñ‚ÑŒÑÑ



ĞŸÑ€Ğ¸Ğ½ÑÑ‚Ğ¾. Ğ¯ Ğ·Ğ°Ñ„Ğ¸ĞºÑĞ¸Ñ€ÑƒÑ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ¸Ğ³Ñ€Ñ‹ Ğ¸ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ² ĞµĞ´Ğ¸Ğ½Ğ¾Ğ¼ ÑĞ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ¾Ğ¼ Ğ±Ğ»Ğ¾ĞºĞµ. Ğ­Ñ‚Ğ¾ Ğ±ÑƒĞ´ĞµÑ‚ Ğ½Ğ°Ñˆ Â«Ñ‡ĞµÑ€Ñ‚ĞµĞ¶Â», Ğ¿Ğ¾ ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ¼Ñƒ Ğ¼Ñ‹ Ğ±ÑƒĞ´ĞµĞ¼ ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ ÑĞ»Ğ°Ğ¹Ğ´Ñ‹.



Ğ¯ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ğ» Ñ†Ğ²ĞµÑ‚Ğ¾Ğ²ÑƒÑ ĞºĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²ĞºÑƒ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ñ‚Ğ²Ğ¾Ğ¸Ñ… Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ¸ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ° dddguard.



<macro_layout> Ğ”Ğ¸Ğ·Ğ°Ğ¹Ğ½-ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¿Ñ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸:



Ğ¦Ğ²ĞµÑ‚Ğ¾Ğ²Ğ°Ñ Ğ¿Ğ°Ğ»Ğ¸Ñ‚Ñ€Ğ° (Semantic Coloring):



ğŸ”µ Domain Layer: #3B82F6 (Blue-500) â€” Ğ§Ğ¸ÑÑ‚Ğ°Ñ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°, Ñ…Ğ¾Ğ»Ğ¾Ğ´Ğ½Ñ‹Ğ¹ Ñ€Ğ°ÑÑÑƒĞ´Ğ¾Ğº.



ğŸŸ£ App Layer: #A855F7 (Purple-500) â€” ĞÑ€ĞºĞµÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ, Ğ¼Ğ°Ğ³Ğ¸Ñ ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ñ.



ğŸŸ¢ Driving Side (Inbound): #22C55E (Green-500) â€” Ğ’Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹, "Ğ—ĞµĞ»ĞµĞ½Ñ‹Ğ¹ ÑĞ²ĞµÑ‚" Ğ´Ğ»Ñ ÑÑ‚Ğ°Ñ€Ñ‚Ğ°.



Scope: Driving Ports, Driving DTO, Driving Adapters.



ğŸŸ  Driven Side (Outbound): #F97316 (Orange-500) â€” Ğ˜ÑÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ Ğ¿Ğ¾Ğ±Ğ¾Ñ‡Ğ½Ñ‹Ğµ ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹, Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ğµ.



Scope: Driven Ports, Driven DTO, Driven Adapters.



âšª Shared Kernel: #94A3B8 (Slate-400) â€” Ğ‘Ğ°Ğ·Ğ°, Ğ½ĞµĞ¹Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ.



ğŸ”´ Root: #E11D48 (Rose-600) â€” Ğ¡Ğ±Ğ¾Ñ€ĞºĞ°, Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°.



Ğ¢Ğ¸Ğ¿Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ°:



Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¸: ĞšÑ€ÑƒĞ¿Ğ½Ñ‹Ğµ, Ğ¶Ğ¸Ñ€Ğ½Ñ‹Ğµ, Ğ±ĞµĞ· Ğ·Ğ°ÑĞµÑ‡ĞµĞº.



ĞĞºÑ†ĞµĞ½Ñ‚Ñ‹: Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ†Ğ²ĞµÑ‚Ğ½Ñ‹Ñ… ÑĞ¿Ğ°Ğ½Ğ¾Ğ² (e.g., <span class="text-blue-500">Domain</span>).



ĞšĞ¾Ğ´: ĞœĞ¾Ğ½Ğ¾ÑˆĞ¸Ñ€Ğ¸Ğ½Ğ½Ñ‹Ğ¹, Ñ„Ğ¾ĞºÑƒÑ Ğ½Ğ° ÑÑ‚Ñ€Ğ¾ĞºĞ°Ñ….



</macro_layout>



Ğ’Ğ¾Ñ‚ ÑƒÑ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¿Ğ»Ğ°Ğ½ Ğ² Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğµ Markdown-ÑĞ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸:



<slide_block language="md">



I. Ğ’Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ: Ğ¥Ğ°Ğ¾Ñ Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ² ĞŸĞ¾Ñ€ÑĞ´ĞºĞ°

Ğ¢Ğ¸Ñ‚ÑƒĞ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ»Ğ°Ğ¹Ğ´ (Intro).



ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:



Ğ¥Ğ°Ğ¾Ñ Ğ² Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°Ñ…, Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹, ÑĞ¿Ğ¾Ñ€Ñ‹ Ğ½Ğ° Code Review.



Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¾Ğ½Ğ±Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ³Ğ° Ğ¸ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸.



Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:



ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ĞºĞ°Ğº ÑÑ‚Ñ€Ğ¾Ğ³Ğ¸Ğ¹ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚.



Ğ•Ğ´Ğ¸Ğ½Ğ¾Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹.



II. ĞœĞ°ĞºÑ€Ğ¾-ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ: Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ°Ñ ĞºĞ°Ñ€Ñ‚Ğ°

Ğ¢Ñ€Ğ¸ĞµĞ´Ğ¸Ğ½ÑÑ‚Ğ²Ğ¾: Root + Shared + Bounded Contexts.



Ğ˜ĞµÑ€Ğ°Ñ€Ñ…Ğ¸Ñ (Ğ¡Ñ…ĞµĞ¼Ğ° Mermaid):



Shared (Base) -> Contexts (Logic) -> Root (Composition).



ĞĞ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ğµ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğ¹ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹.



Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ñ€Ğ°Ğ·Ğ±Ğ¾Ñ€ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²:



Root (Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ²ÑĞµĞ³Ğ¾).



Shared Kernel (Ğ¡Ñ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, VO, DTO).



Bounded Context (Ğ˜Ğ·Ğ¾Ğ»ÑÑ†Ğ¸Ñ).



III. ĞœĞ¸ĞºÑ€Ğ¾-ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ: ĞĞ½Ğ°Ñ‚Ğ¾Ğ¼Ğ¸Ñ ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°

ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Ğ¡Ñ…ĞµĞ¼Ğ° Mermaid):



Port -> DTO -> Adapter -> App -> Domain (Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ¾).



Ğ¡Ğ»Ğ¾Ğ¹ 1: Domain (Ğ¯Ğ´Ñ€Ğ¾) [Blue]



Entities.



Value Objects.



Aggregates.



Domain Services.



Domain Errors.



Ğ¡Ğ»Ğ¾Ğ¹ 2: App (ĞÑ€ĞºĞµÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ) [Purple]



Use Cases.



Queries.



Commands.



ĞĞ±Ñ‰Ğ¸Ğ¹ Ğ¾Ğ±Ğ·Ğ¾Ñ€ ÑĞ»Ğ¾Ñ.



Ğ Ğ°Ğ·Ğ²Ğ¸Ğ»ĞºĞ°: Driving vs Driven



ĞšĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ "ĞšÑ‚Ğ¾ ĞºĞ¾Ğ³Ğ¾ Ñ‚Ğ¾Ğ»ĞºĞ°ĞµÑ‚".



Ğ’ĞµÑ‚ĞºĞ° Driven (Ğ˜ÑÑ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ) [Orange]

Driven Adapters:



Repositories.



Gateways.



Publishers.



ACL (Anti-Corruption Layer).



Driven DTO: ĞšĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚Ñ‹ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°/ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ.



Driven Ports: Ğ˜Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° (DB Drivers, Clients).



Ğ’ĞµÑ‚ĞºĞ° Driving (Ğ’Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ) [Green]

Driving Ports: Ğ˜Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° (Web Server, CLI).



Driving DTO: ĞšĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚Ñ‹ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°.



Driving Adapters: Controllers, Consumers.



Composition Root (Context Level):



Wiring (composition.py).



Container (DI).



IV. Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹: dddguard

ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´: "Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ Ñ€ÑƒĞºĞ°Ğ¼Ğ¸? Guard Ğ¿Ğ¾Ğ¼Ğ¾Ğ¶ĞµÑ‚".



Scan & Draw: Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ³Ñ€Ğ°Ñ„Ğ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹.



Lint: ĞœĞ°Ñ‚Ñ€Ğ¸Ñ†Ğ° Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ» Ğ¸ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ° ÑĞ»Ğ¾ĞµĞ².



Create: Scaffolder Ğ¸ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹.



V. Ğ—Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ

Ğ˜Ñ‚Ğ¾Ğ³: Architecture as Code.



ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹/QR. </slide_block>



<refine> ĞŸĞ»Ğ°Ğ½ Ğ·Ğ°Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½. ĞœÑ‹ Ğ¸Ğ´ĞµĞ¼ Ğ¾Ñ‚ Ğ±Ğ¾Ğ»Ğ¸ Ğº Ğ¼Ğ°ĞºÑ€Ğ¾-ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğµ, Ğ·Ğ°Ñ‚ĞµĞ¼ Ğ½Ñ‹Ñ€ÑĞµĞ¼ Ğ² Ğ¼Ğ¸ĞºÑ€Ğ¾-ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ (Domain -> App -> Driven -> Driving -> Wiring), Ğ¸ Ğ·Ğ°ĞºĞ°Ğ½Ñ‡Ğ¸Ğ²Ğ°ĞµĞ¼ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ¼.



